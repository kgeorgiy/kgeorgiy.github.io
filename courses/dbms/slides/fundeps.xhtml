<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>Базы данных / Реляционная модель и функциональные зависимости</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="scripts/slidy.css" /><link rel="stylesheet" type="text/css" href="scripts/prettify.css" /><link rel="stylesheet" type="text/css" href="scripts/kgeorgiy-slides.css" /><script type="text/javascript" src="scripts/slidy.js" charset="utf-8" /><script type="text/javascript" src="scripts/kgeorgiy-slides.js" charset="utf-8" /><script type="text/javascript" src="scripts/prettify.js" /><script type="text/javascript" src="scripts/lang-sql.js" /><script type="text/javascript" src="scripts/lang-javaModule.js" /><script type="text/javascript" src="scripts/lang-scala.js" /><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" /><script type="text/javascript">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']], displayMath: [['$$','$$']], ignoreClass: "", processClass: "math|lang-math"}});</script><script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-37693764-1"]);_gaq.push(["_setDomainName","kgeorgiy.info"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8EQ66D87ZZ" /><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-8EQ66D87ZZ');
                </script></head><body onload="prettyPrint()"><div id="all">
<div class="slide cover"><div class="content"><div class="course">Базы данных</div><hr /><div class="lecture"><div>Реляционная модель и функциональные зависимости</div></div><div class="link"><a href="https://kgeorgiy.info/courses/dbms/">https://kgeorgiy.info/courses/dbms/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Георгий Корнеев</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide section"><div class="content"><h1>Реляционная модель</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc">Функциональные зависимости</a></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">2</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Отношения</h1><div class="body"><ul class="item-1 level-1"><li>Имя</li><li>Заголовок отношения<ul class="item-2 level-2"><li>Описание данных</li><li>Множество пар <var>имя: тип</var></li></ul></li><li>Тело отношения<ul class="item-2 level-2"><li>Данные</li><li>Множество множеств пар <var>имя: значение</var></li></ul></li><li>Пример отношения<ul class="item-2 level-2"><li><pre class="fixed">{id: int, name: string}
{{id: 10, name: Иванов},
 {id: 20}}
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">3</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Отношения и математика</h1><div class="body"><ul class="item-1 level-1"><li><span class="question">Как соотносятся реляционные и математические отношения?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$\begin{split} R = (&amp;\{&amp;a_1: T_1, a_2: T_2, ..., a_n: T_n\},\\ &amp;\{\\ &amp;&amp;\{a_1: v_1, a_2: v_2, ..., a_n: v_n\},\\ &amp;&amp;\dots\\ &amp;\})\\ \end{split}$</span></span></div></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$\begin{split} R(a_1, a_2, ..., a_n) ⊆ T_1 \times T_2 \times \cdots \times T_n \\ (v_1, v_2, ..., v_n) \in T_1 \times T_2 \times \cdots \times T_n \end{split}$</span></span></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">4</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Отношения и таблицы</h1><div class="body"><ul class="item-1 level-1"><li>Столбцы и атрибуты<ul class="item-2 level-2"><li>Столбцы – список</li><li>Атрибуты – множество</li></ul></li><li class="incremental"><div class="non-incremental">Строки и кортежи<ul class="item-2 level-2"><li>Строки – элемент расширенного декартова произведения</li><li>Кортежи – элемент декартова произведения</li></ul></div></li><li class="incremental"><div class="non-incremental">Таблицы и отношения<ul class="item-2 level-2"><li>Таблица – список строк</li><li>Отношение – множество кортежей</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">5</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Ключи</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc current">Ключи</a></li><li><a href="#(11)" class="toc">Функциональные зависимости</a></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">6</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Надключ</h1><div class="body"><ul class="item-1 level-1"><li>Множество атрибутов<ul class="item-2 level-2"><li>В отношении нет кортежей с одинаковыми значениями атрибутов</li><li>В проекции на надключ нет повторяющихся кортежей</li></ul></li><li>Надключ является идентификатором кортежа</li><li><span class="question">У всех отношений существует надключ?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Множество всех атрибутов – надключ</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">7</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Сколько надключей? </h1><div class="body"><img class="bottom" src="pics/Keys_CompositeKey.svg" /><ul class="item-1 level-1"><li class="incremental"><div class="non-incremental">16 + 8 − 4 = 20<ul class="item-2 level-2"><li>16 для <var>SId</var></li><li>8 для <var>{PassS, PassNo}</var></li><li>4 для <var>{SId, PassS, PassNo}</var></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">8</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Ключ</h1><div class="body"><ul class="item-1 level-1"><li>Минимальный по включению надключ</li><li>Ключ является минимальным идентификатором кортежа</li><li><span class="question">У всех отношений существует ключ?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Можно минимизировать полный надключ</div></li></ul></li><li class="incremental"><div class="non-incremental"><span class="question">Можно ли использовать минимальность по числу атрибутов?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Нет, могут существовать ключи разной мощности: <var>{SId}</var> и <var>{PassS, PassNo}</var></div></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">9</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Выбор ключей</h1><div class="body"><ul class="item-1 level-1"><li>Большинство СУБД умеют проверять ограничения на ключи</li><li>Требования к ключам<ul class="item-2 level-2"><li>Уникальность</li><li>Неизменность</li></ul></li><li class="incremental"><div class="non-incremental">Натуральные ключи vs. суррогатные<ul class="item-2 level-2"><li>Натуральные – соответствуют бизнес-правилам, часто составные</li><li>Суррогатные – простые и эффективные</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">10</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Функциональные зависимости</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class="">Определение и примеры</a></li><li><a href="#(19)" class="">Правила вывода</a></li><li><a href="#(23)" class="">Замыкания</a></li><li><a href="#(27)" class="">Замыкания атрибутов</a></li><li><a href="#(32)" class="">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">11</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Определение и примеры</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class=" current">Определение и примеры</a></li><li><a href="#(19)" class="">Правила вывода</a></li><li><a href="#(23)" class="">Замыкания</a></li><li><a href="#(27)" class="">Замыкания атрибутов</a></li><li><a href="#(32)" class="">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">12</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Функциональная зависимость (ФЗ)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$X → Y$</span></span><ul class="item-2 level-2"><li>Каждому <span class="mathO"><span class="math">$X$</span></span> соответствует ровно один <span class="mathO"><span class="math">$Y$</span></span></li><li><span class="mathO"><span class="math">$X$</span></span> и <span class="mathO"><span class="math">$Y$</span></span> – множества атрибутов</li></ul></li><li>Все атрибуты функционально зависят от (над)ключа</li><li>Функциональные зависимости нельзя «вычислить»</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">13</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры ФЗ (1)</h1><div class="body"><ul class="item-1 level-1"><li /></ul><div class="img-width"><img class="width" style="width: 80%" src="pics/FunDeps_Example_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Функциональные зависимости?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>CId → Name Lecturer Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>Name → CId Lecturer Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>Name → Lecturer Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>Lecturer → Phone</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">14</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры ФЗ (2)</h1><div class="body"><ul class="item-1 level-1"><li /></ul><div class="img-width"><img class="width" style="width: 50%" src="pics/FunDeps_Example_2.svg" /></div><ul class="item-1 level-1"><li>Функциональные зависимости<ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>CId SId → RMark EMark</var></div></li><li class="incremental"><div class="non-incremental"><var>EMark → RMark</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">15</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Тривиальные ФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Правая часть – подмножество левой части<ul class="item-2 level-2"><li>Выполняются всегда</li><li>Не несут информации</li></ul></li><li>Примеры<ul class="item-2 level-2"><li><var>CId → CId</var></li><li><var>Lecturer Phone → Phone</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">16</span></div></div></div></div>
<div class="slide"><div class="content"><h1>ФЗ и ограничения</h1><div class="body"><ul class="item-1 level-1"><li>Функциональные зависимости задают ограничения для БД<ul class="item-2 level-2"><li>СУБД не поддерживают произвольные ФЗ</li><li>Большинство СУБД поддерживают ключи</li><li>Больше ограничений <span class="mathO"><span class="math">$\Rightarrow$</span></span> меньше производительность</li></ul></li><li>Задачи<ul class="item-2 level-2"><li>Минимизировать число проверяемых ФЗ</li><li>Преобразовать ФЗ в ограничения ключей</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">17</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример минимизации ФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Исходные ФЗ<ul class="item-2 level-2"><li><var>CId → Name</var>, <var>CId → Lecturer</var>, <var>CId → Phone</var></li><li><var>Name → CId</var>, <var>Name → Lecturer</var>, <var>Name → Phone</var></li><li><var>Lecturer → Phone</var></li><li><var>CId Lecturer → Phone</var></li><li>...</li></ul></li><li>Минимизированные ФЗ<ul class="item-2 level-2"><li><var>CId → Name</var></li><li><var>Name → CId</var></li><li><var>CId → Lecturer</var></li><li><var>Lecturer → Phone</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">18</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Правила вывода</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class="">Определение и примеры</a></li><li><a href="#(19)" class=" current">Правила вывода</a></li><li><a href="#(23)" class="">Замыкания</a></li><li><a href="#(27)" class="">Замыкания атрибутов</a></li><li><a href="#(32)" class="">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">19</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Правила Армстронга</h1><div class="body"><ul class="item-1 level-1"><li>Задают простейшие правила вывода</li><li>Правило рефлексивности<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X ⊆ Y ⇒ Y → X$</span></span></li></ul></li><li>Правило дополнения<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X → Y ⇒ X~Z → Y~Z$</span></span></li></ul></li><li>Правило транзитивности<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X → Y, Y → Z ⇒ X → Z$</span></span></li></ul></li><li>Позволяют построить замыкание</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">20</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дополнительные правила</h1><div class="body"><ul class="item-1 level-1"><li>Правило самоопределения<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X → X$</span></span></li></ul></li><li>Правила расщепления и объединения<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X → Y~Z ⇔ X → Y, X → Z$</span></span></li></ul></li><li>Правило композиции<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X → Y, Z → D ⇒ X~Z → Y~D$</span></span></li></ul></li><li>Позволяют минимизировать проверяемые ФЗ</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">21</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример вывода ФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Дано<ul class="item-2 level-2"><li>Отношение <br ignore="ignore" /><var>(LId, Lecturer, Phone, Table, Dean, Faculty)</var></li><li><var>LId → Lecturer Phone</var> (1)</li><li><var>Phone Table → Dean Faculty</var> (2)</li></ul></li><li>Вывод<ul class="item-2 level-2"><li><var>LId → Lecturer Phone</var> (1)</li><li>⇒ (расщепление) <var>LId → Phone</var></li><li>⇒ (дополнение) <var>LId Table → Phone Table</var></li><li>⇒ (2, транзитивность) <var>LId Table → Dean Faculty</var></li><li>⇒ (расщепление) <var>LId Table → Faculty</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">22</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Замыкания</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class="">Определение и примеры</a></li><li><a href="#(19)" class="">Правила вывода</a></li><li><a href="#(23)" class=" current">Замыкания</a></li><li><a href="#(27)" class="">Замыкания атрибутов</a></li><li><a href="#(32)" class="">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">23</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Замыкание множества ФЗ</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$S^{+}$</span></span><ul class="item-2 level-2"><li>Множество всех ФЗ, которые следуют из <span class="mathO"><span class="math">$S$</span></span></li></ul></li><li>Пример<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$S = \{CId → Lecturer, Lecturer → Phone\}$</span></span></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$\begin{split} S^{+} = \{\\ &amp;CId → Lecturer, \\ &amp;Lecturer → Phone,\\ &amp;CId → Phone,\\ &amp;CId~Lecturer → Phone,\\ &amp;\text{19 тривиальных ФЗ}\\ &amp;\}\end{split}$</span></span></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">24</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Эквивалентные множества ФЗ</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$S$</span></span> слабее <span class="mathO"><span class="math">$P$</span></span> (<span class="mathO"><span class="math">$P$</span></span> сильнее <span class="mathO"><span class="math">$S$</span></span>)<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$S \sqsubset P \Leftrightarrow S^{+} ⊆ P^{+}$</span></span></li></ul></li><li><span class="mathO"><span class="math">$S$</span></span> эквивалентно <span class="mathO"><span class="math">$P$</span></span><ul class="item-2 level-2"><li><span class="mathO"><span class="math">$S \equiv P \Leftrightarrow S \sqsubset P \wedge P \sqsubset S \Leftrightarrow P^{+} = S^{+}$</span></span></li></ul></li><li>Задача<ul class="item-2 level-2"><li>Найти минимальное множество ФЗ, эквивалентное заданному</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">25</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Мощность замыкания</h1><div class="body"><ul class="item-1 level-1"><li>Оценить мощность замыкания</li><li class="incremental"><div class="non-incremental"><span class="question">Мощность тривиальных ФЗ на <span class="mathO"><span class="math">$n$</span></span> атрибутах?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$\Sigma_{k=1}^{n}C_n^k (2^k - 1) = O(3^n)$</span></span></div></li></ul></div></li><li class="incremental"><div class="non-incremental">Тривиальная ФЗ + нетривиальная ФЗ <span class="mathO"><span class="math">$\Rightarrow$</span></span> нетривиальная ФЗ</div></li><li class="incremental"><div class="non-incremental">Мощность замыкания в реальных приложениях слишком велика</div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">26</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Замыкания атрибутов</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class="">Определение и примеры</a></li><li><a href="#(19)" class="">Правила вывода</a></li><li><a href="#(23)" class="">Замыкания</a></li><li><a href="#(27)" class=" current">Замыкания атрибутов</a></li><li><a href="#(32)" class="">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">27</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Замыкание атрибутов</h1><div class="body"><ul class="item-1 level-1"><li>Замыкание множества атрибутов <span class="mathO"><span class="math">$X$</span></span> над множеством функциональных зависимостей <span class="mathO"><span class="math">$S$</span></span><ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X_S^{+}$</span></span> – множество атрибутов, функционально зависящих от <span class="mathO"><span class="math">$X$</span></span></li><li><span class="question">Максимальный размер?</span><ul class="item-3 level-3"><li class="incremental"><div class="non-incremental">Число атрибутов в отношении</div></li></ul></li></ul></li><li class="incremental"><div class="non-incremental">Пример<ul class="item-2 level-2"><li><var><span class="mathO"><span class="math">$S = \{CId → Lecturer, Lecturer → Phone\}$</span></span></var></li><li><var><span class="mathO"><span class="math">$X = \{CId\}$</span></span></var></li><li><span class="question">Замыкание</span>?<ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><var><span class="mathO"><span class="math">$X_S^{+} = \{CId, Lecturer, Phone\}$</span></span></var></div></li></ul></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">28</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Алгоритм вычисления <span class="mathO"><span class="math">$X_S^{+}$</span></span></h1><div class="body"><ul class="item-1 level-1"><li>Добавление выводимых атрибутов<ul class="item-2 level-2"><li><pre class="math">$X_S^\times = X$
do
    for each $Y → Z$ in $S$
        if $Y ⊆ X_S^\times$ then $X_S^\times = X_S^\times \cup Z$
while (есть изменения)
</pre></li></ul></li><li>Теорема. <span class="mathO"><span class="math">$X_S^{+} = X_S^{\times}$</span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$X_S^{+} ⊇ X_S^{\times}$</span></span> – по построению</div></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$X_S^{+} ⊆ X_S^{\times}$</span></span> – от противного</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">29</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример вычисления <span class="mathO"><span class="math">$X_S^{+}$</span></span></h1><div class="body"><ul class="item-1 level-1"><li>Дано <var>S</var><ul class="item-2 level-2"><li><var>A → B C</var></li><li><var>E → C F</var></li><li><var>B → E</var></li><li><var>C D → E F</var></li></ul></li><li>Найти <var>{A, B}⁺</var><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>{A, B}</var></div></li><li class="incremental"><div class="non-incremental"><var>{A, B, C}</var></div></li><li class="incremental"><div class="non-incremental"><var>{A, B, C, E, F}</var></div></li><li class="incremental"><div class="non-incremental"><var>{A, B, C, E, F} = {A, B}⁺</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">30</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Свойства замыканий атрибутов</h1><div class="body"><ul class="item-1 level-1"><li>Теорема. <span class="mathO"><span class="math">$X → Y \in S^{+} \Leftrightarrow Y ⊆ X_S^{+}$</span></span><ul class="item-2 level-2"><li>Позволяет проверять эквивалентность множеств ФЗ без вычисления замыканий</li></ul></li><li><span class="mathO"><span class="math">$X$</span></span> надключ <span class="mathO"><span class="math">$\Leftrightarrow$</span></span><span class="mathO"><span class="math">$X^{+}$</span></span> – множество всех атрибутов<ul class="item-2 level-2"><li>Позволяет формально выделять надключи и ключи</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">31</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Неприводимые множества ФЗ</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc current">Функциональные зависимости</a><ol class="level-2 toc-2"><li><a href="#(12)" class="">Определение и примеры</a></li><li><a href="#(19)" class="">Правила вывода</a></li><li><a href="#(23)" class="">Замыкания</a></li><li><a href="#(27)" class="">Замыкания атрибутов</a></li><li><a href="#(32)" class=" current">Неприводимые множества ФЗ</a></li></ol></li><li><a href="#(38)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">32</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Неприводимые множества ФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Множество ФЗ <span class="mathO"><span class="math">$S$</span></span> неприводимо<ul class="item-2 level-2"><li>Каждая правая часть ФЗ содержит один атрибут</li><li>Каждая левая часть ФЗ минимальна по включению</li><li><span class="mathO"><span class="math">$S$</span></span> минимально по включению</li></ul></li><li>При проверке минимальности проверяется эквивалентность</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">33</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример построения</h1><div class="body"><ul class="item-1 level-1"><li>Дано<ul class="item-2 level-2"><li><var>LId → Lecturer Phone</var></li><li><var>Lecturer → Phone</var></li><li><var>LId → Dean</var></li><li><var>Lecturer Phone Table → Dean</var></li></ul></li><li>Неприводимое множество ФЗ<ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>LId → Lecturer</var></div></li><li class="incremental"><div class="non-incremental"><var>Lecturer → Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>LId → Dean</var></div></li><li class="incremental"><div class="non-incremental"><var>Lecturer Table → Dean</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">34</span></div></div></div></div>
<div class="slide"><div class="content"><h1>∃ неприводимого множества ФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Теорема. Для любого множества ФЗ существует эквивалентное неприводимое множество ФЗ<ul class="item-2 level-2"><li>По правилу расщепления делаем все правые части единичными</li><li>Для левой части каждого правила пытаемся удалить по одному атрибуту</li><li>Пытаемся удалить по одному правилу</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">35</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Вычисление НМФЗ</h1><div class="body"><ul class="item-1 level-1"><li>Расщепление правых частей<ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Линейно по размеру правых частей</div></li></ul></li><li>Удаление атрибута <span class="mathO"><span class="math">$X \cup \{A\} → Y$</span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$Y ⊆ X^+_S$</span></span></div></li><li class="incremental"><div class="non-incremental">Может породить несколько ФЗ</div></li></ul></li><li>Удаление правила <span class="mathO"><span class="math">$X → Y$</span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$Y ⊆ X^+_{S \setminus \{X → Y\}}$</span></span></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">36</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Наблюдение</h1><div class="body"><ul class="item-1 level-1"><li>Неприводимые множества ФЗ обычно много меньше исходного множества ФЗ</li><li>Неприводимое множество ФЗ может не являться минимальным<ul class="item-2 level-2"><li>Ни в каком смысле</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">37</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Литература</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная модель</a></li><li><a href="#(6)" class="toc">Ключи</a></li><li><a href="#(11)" class="toc">Функциональные зависимости</a></li><li><a href="#(38)" class="toc current">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">38</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Основная литература 2</h1><div class="body"><ul class="item-1 level-1"><li><em>Дейт К.</em> Введение в системы баз данных (главы 9 и 11)</li><li><em>Уидом Д.</em>, <em>Ульман Д.</em> Основы реляционных баз данных (глава 3)</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">39</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дополнительная литература</h1><div class="body"><ul class="item-1 level-1"><li><em>Armstrong W.W.</em> Dependency Structures of Data Base Relationships</li><li><em>Fagin R.</em> Functional Dependencies in a Relational Database and Propositional Logic</li><li><em>Beeri C.</em>, <em>Fagin R.</em>, <em>Howard J.</em> A complete axiomatization for functional and multivalued dependencies in database relations</li><li><em>Maier D.</em> Minimum covers in the relational database model</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная модель и функциональные зависимости</span><span class="number">40</span></div></div></div></div></div></body></html>