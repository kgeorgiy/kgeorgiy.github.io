<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>Базы данных / Нормализация баз данных</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="scripts/slidy.css" /><link rel="stylesheet" type="text/css" href="scripts/prettify.css" /><link rel="stylesheet" type="text/css" href="scripts/kgeorgiy-slides.css" /><script type="text/javascript" src="scripts/slidy.js" charset="utf-8" /><script type="text/javascript" src="scripts/kgeorgiy-slides.js" charset="utf-8" /><script type="text/javascript" src="scripts/prettify.js" /><script type="text/javascript" src="scripts/lang-sql.js" /><script type="text/javascript" src="scripts/lang-javaModule.js" /><script type="text/javascript" src="scripts/lang-scala.js" /><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" /><script type="text/javascript">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']], displayMath: [['$$','$$']], ignoreClass: "", processClass: "math|lang-math"}});</script><script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-37693764-1"]);_gaq.push(["_setDomainName","kgeorgiy.info"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8EQ66D87ZZ" /><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-8EQ66D87ZZ');
                </script></head><body onload="prettyPrint()"><div id="all">
<div class="slide cover"><div class="content"><div class="course">Базы данных</div><hr /><div class="lecture"><div>Нормализация баз данных</div></div><div class="link"><a href="https://kgeorgiy.info/courses/dbms/">https://kgeorgiy.info/courses/dbms/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Георгий Корнеев</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide section"><div class="content"><h1>Цели и средства нормализации</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Цели и средства нормализации</a><ol class="level-2 toc-2"><li><a href="#(3)" class="">Нормализация</a></li><li><a href="#(6)" class="">Проекции и соединения</a></li><li><a href="#(10)" class="">Декомпозиция отношений</a></li></ol></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">2</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Нормализация</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Цели и средства нормализации</a><ol class="level-2 toc-2"><li><a href="#(3)" class=" current">Нормализация</a></li><li><a href="#(6)" class="">Проекции и соединения</a></li><li><a href="#(10)" class="">Декомпозиция отношений</a></li></ol></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">3</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Нормализация</h1><div class="body"><ul class="item-1 level-1"><li>Оптимизация схемы с целью:<ul class="item-2 level-2"><li>Преобразования ФЗ в ограничения ключей</li><li>Упрощения изменения данных <span class="warn">(не ключей)</span></li><li>Ускорения изменения данных</li></ul></li><li class="incremental"><div class="non-incremental">Следствия<ul class="item-2 level-2"><li>Скорость выборки может снижаться</li><li>Число изменений — <span class="mathO"><span class="math">$O$</span></span>(число чтений)</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">4</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Нормальные формы</h1><div class="body"><ul class="item-1 level-1"><li>Формализация интуиции «хорошая схема»<ul class="item-2 level-2"><li>Первые нормальные формы «самоочевидны»</li><li>Позволяют выявлять проблемы в дизайне</li><li>Требуют знаний о предметной области</li></ul></li><li>Иерархия нормальных форм<ul class="item-2 level-2"><li>1, 2, 3 – разработал Эдгар Кодд</li><li>Бойса–Кодда</li><li>4, 5, доменно-ключевая – разработал Рональд Фейгин</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">5</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Проекции и соединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Цели и средства нормализации</a><ol class="level-2 toc-2"><li><a href="#(3)" class="">Нормализация</a></li><li><a href="#(6)" class=" current">Проекции и соединения</a></li><li><a href="#(10)" class="">Декомпозиция отношений</a></li></ol></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">6</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Проекция отношения</h1><div class="body"><ul class="item-1 level-1"><li>Проекция отношения <span class="mathO"><span class="math">$R$</span></span> на множество атрибутов <span class="mathO"><span class="math">$X$</span></span><ul class="item-2 level-2"><li><span class="mathO"><span class="math">$π_X(R) = \{r ∩ X | r ∈ R\}$</span></span></li><li>«забывание» части атрибутов</li><li>может содержать меньше кортежей </li></ul></li></ul><div class="img-width"><img class="width" style="width: 55%" src="pics/NF_Projection.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">7</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Естественное соединение отношений</h1><div class="body"><ul class="item-1 level-1"><li>Восстановление отношения по проекциям<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$R_1 ⋈ R_2 = \{r_1 ∪ r_2 | r_1 ∈ R_1, r_2 ∈ R_2 ∧ π_Y(r_1) = π_Y(r_2)\}$</span></span>, соединение по совпадающим атрибутам</li><li>коммутативность</li><li>ассоциативность </li></ul></li></ul><div class="img-width"><img class="width" style="width: 70%" src="pics/NF_Join.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">8</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Декомпозиция отношений</h1><div class="body"><ul class="item-1 level-1"><li>Отношение преобразуется в набор проекций<ul class="item-2 level-2"><li>Не менее двух</li><li>Сохранение всех атрибутов <img class="bottom" src="pics/NF_Decomposition.svg" /></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">9</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Декомпозиция отношений</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Цели и средства нормализации</a><ol class="level-2 toc-2"><li><a href="#(3)" class="">Нормализация</a></li><li><a href="#(6)" class="">Проекции и соединения</a></li><li><a href="#(10)" class=" current">Декомпозиция отношений</a></li></ol></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">10</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Декомпозиция отношения</h1><div class="body"><ul class="item-1 level-1"><li>Декомпозиция отношения<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$R(XYZ) = π_{XZ}(R) ⋈ π_{YZ}(R)$</span></span></li></ul></li><li>«Разрезание» отношения на две проекции, дающие при соединении исходное отношение</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">11</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример декомпозиции (1)</h1><div class="body"><ul class="item-1 level-1"><li>Проекции на <var>CId Lecturer</var> и <var>Lecturer Phone</var></li></ul><div class="img-width"><img class="width" style="width: 70%" src="pics/NF_Decomposition_Example_1_1.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">12</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример декомпозиции (1)</h1><div class="body"><ul class="item-1 level-1"><li>Соединение <var>CId Lecturer</var> и <var>Lecturer Phone</var></li></ul><div class="img-width"><img class="width" style="width: 70%" src="pics/NF_Decomposition_Example_1_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">13</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример декомпозиции (2)</h1><div class="body"><ul class="item-1 level-1"><li>Проекции на <var>CId Phone</var> и <var>Lecturer Phone</var></li></ul><div class="img-width"><img class="width" style="width: 70%" src="pics/NF_Decomposition_Example_2_1.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">14</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример декомпозиции (2)</h1><div class="body"><ul class="item-1 level-1"><li>Соединение <var>CId Phone</var> и <var>Lecturer Phone</var></li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/NF_Decomposition_Example_2_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">15</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теорема Хита</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R(XYZ)$</span></span> и <span class="mathO"><span class="math">$X → Y~$</span></span><var>⇒</var><span class="mathO"><span class="math">$~R = π_{XY}(R) ⋈ π_{XZ}(R)$</span></span>, <br ignore="ignore" /> где <span class="mathO"><span class="math">$X$</span></span>, <span class="mathO"><span class="math">$Y$</span></span> и <span class="mathO"><span class="math">$Z$</span></span> – множества атрибутов<ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="question">⊂</span><ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$∀ r ∈ R$</span></span>: <span class="mathO"><span class="math">$π_{XY}(r) ∈ π_{XY}(R), π_{XZ}(r) ∈ π_{XZ}(R)$</span></span>, <span class="mathO"><span class="math">$r = π_{XY}(r) ⋈ π_{XZ}(r)$</span></span> ⇒ <span class="mathO"><span class="math">$r ∈ π_{XY}(R) ⋈ π_{XZ}(R)$</span></span></div></li></ul></div></li><li class="incremental"><div class="non-incremental"><span class="question">⊃</span><ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$∀ (x, y, z) ∈ π_{XY}(R) ⋈ π_{XZ}(R)$</span></span> ⇒ <span class="mathO"><span class="math">$(x, y) ∈ π_{XY}(R)$</span></span>, <span class="mathO"><span class="math">$(x, z) ∈ π_{XZ}(R)$</span></span></div></li><li class="incremental"><div class="non-incremental">Из <span class="mathO"><span class="math">$(x, z) ∈ π_{XZ}(R)$</span></span> ⇒ <span class="mathO"><span class="math">$∃ y': (x, y', z) ∈ R$</span></span> ⇒ <span class="mathO"><span class="math">$(x, y') ∈ π_{XY}(R)$</span></span></div></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$X → Y ⇒ ∃! y : (x, y) ∈ π_{XY}(R)$</span></span> ⇒ <span class="mathO"><span class="math">$y = y'$</span></span> ⇒ <span class="mathO"><span class="math">$(x, y, z) ∈ R$</span></span></div></li></ul></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">16</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Первые нормальные формы</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Первая нормальная форма</a></li><li><a href="#(24)" class="">Аномалии</a></li><li><a href="#(29)" class="">Вторая нормальная форма</a></li><li><a href="#(35)" class="">Третья нормальная форма</a></li><li><a href="#(41)" class="">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">17</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Первая нормальная форма</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class=" current">Первая нормальная форма</a></li><li><a href="#(24)" class="">Аномалии</a></li><li><a href="#(29)" class="">Вторая нормальная форма</a></li><li><a href="#(35)" class="">Третья нормальная форма</a></li><li><a href="#(41)" class="">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">18</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Первая нормальная форма</h1><div class="body"><ul class="item-1 level-1"><li>Первая нормальная форма (1НФ)<ul class="item-2 level-2"><li>В отношении нет повторяющихся групп</li><li>Все атрибуты атомарны</li><li>У отношения есть ключ</li></ul></li><li>1НФ (Дейт)<ul class="item-2 level-2"><li>1НФ ≡ отношение</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">19</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры 1НФ (1)</h1><div class="body"><ul class="item-1 level-1"><li>Отношение в 1НФ </li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/1NF_1.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">20</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры 1НФ (2)</h1><div class="body"><ul class="item-1 level-1"><li>Повторяющиеся группы </li></ul><div class="img-width"><img class="width" style="width: 80%" src="pics/1NF_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">21</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры 1НФ (3)</h1><div class="body"><ul class="item-1 level-1"><li>Неатомарные атрибуты </li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/1NF_3.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">22</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры 1НФ (4)</h1><div class="body"><ul class="item-1 level-1"><li>1НФ </li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/1NF_4.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">23</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Аномалии</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Первая нормальная форма</a></li><li><a href="#(24)" class=" current">Аномалии</a></li><li><a href="#(29)" class="">Вторая нормальная форма</a></li><li><a href="#(35)" class="">Третья нормальная форма</a></li><li><a href="#(41)" class="">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">24</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Аномалии</h1><div class="body"><ul class="item-1 level-1"><li>Хранение одной информации зависит от другой информации</li><li>Причины<ul class="item-2 level-2"><li>Сложные зависимости данных</li><li>Недостаточная нормализация данных</li></ul></li><li>Следствия<ul class="item-2 level-2"><li>Невозможность сохранить некоторые данные</li><li>Возможность логически некорректных данных</li><li>Сложный процесс внесения и изменения данных</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">25</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Аномалия вставки</h1><div class="body"><ul class="item-1 level-1"><li>Зависимость возможности записать информацию от наличия другой информации</li><li>Пример<ul class="item-2 level-2"><li>Если лектор читает курс, то можно указать телефон, иначе нельзя </li></ul></li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/Anomaly_Insert.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">26</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Аномалия удаления</h1><div class="body"><ul class="item-1 level-1"><li>Удаление одной информации влечет удаление другой</li><li>Пример<ul class="item-2 level-2"><li>При удалении последнего курса лектора теряется информация о телефоне </li></ul></li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/Anomaly_Delete.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">27</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Аномалия изменения</h1><div class="body"><ul class="item-1 level-1"><li>Частичное изменение информации нарушает целостность БД</li><li>Пример<ul class="item-2 level-2"><li>Если изменить телефон только в одной записи, то неясен набор телефонов </li></ul></li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/Anomaly_Update.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">28</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Вторая нормальная форма</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Первая нормальная форма</a></li><li><a href="#(24)" class="">Аномалии</a></li><li><a href="#(29)" class=" current">Вторая нормальная форма</a></li><li><a href="#(35)" class="">Третья нормальная форма</a></li><li><a href="#(41)" class="">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">29</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример ФЗ в 1НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 60%" src="pics/2NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть функциональные зависимости?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>CId → Exam</var></div></li><li class="incremental"><div class="non-incremental"><var>CId Year → Lecturer</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">30</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример аномалий в 1НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 60%" src="pics/2NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть аномалии?</span></li><li class="incremental"><div class="non-incremental">Вставка и удаление<ul class="item-2 level-2"><li>Отчетность без лектора</li></ul></div></li><li class="incremental"><div class="non-incremental">Обновления<ul class="item-2 level-2"><li>Разная отчетность в разные годы</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">31</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Вторая нормальная форма</h1><div class="body"><ul class="item-1 level-1"><li>Вторая нормальная форма (2НФ)<ul class="item-2 level-2"><li>1НФ</li><li>Неключевые атрибуты функционально зависят от ключа в целом <span class="warn">(не от части ключа)</span></li><li>Неключевой атрибут – не входящий в ключ</li></ul></li><li>Нарушается только в случае составных ключей</li><li>Приведение ко 2НФ<ul class="item-2 level-2"><li>Декомпозиция по «мешающим» ФЗ</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">32</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения ко 2НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 60%" src="pics/2NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Как декомпозировать?</span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">33</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения ко 2НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 75%" src="pics/2NF_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">34</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Третья нормальная форма</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Первая нормальная форма</a></li><li><a href="#(24)" class="">Аномалии</a></li><li><a href="#(29)" class="">Вторая нормальная форма</a></li><li><a href="#(35)" class=" current">Третья нормальная форма</a></li><li><a href="#(41)" class="">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">35</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример аномалий во 2НФ (1) </h1><div class="body"><div class="img-width"><img class="width" style="width: 70%" src="pics/2NF_Anomaly.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть функциональные зависимости?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>CId Year → Lecturer</var></div></li><li class="incremental"><div class="non-incremental"><var>Lecturer → Phone</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">36</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример аномалий во 2НФ (2) </h1><div class="body"><div class="img-width"><img class="width" style="width: 70%" src="pics/2NF_Anomaly.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть аномалии?</span></li><li class="incremental"><div class="non-incremental">Вставка и удаление<ul class="item-2 level-2"><li>Телефон преподавателя без курса</li></ul></div></li><li class="incremental"><div class="non-incremental">Обновления<ul class="item-2 level-2"><li>Разные телефоны у одного преподавателя</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">37</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Третья нормальная форма</h1><div class="body"><ul class="item-1 level-1"><li>Третья нормальная форма (3НФ)<ul class="item-2 level-2"><li>2НФ</li><li>Неключевые атрибуты непосредственно <span class="warn">(не транзитивно)</span> зависят от ключей</li></ul></li><li>Приведение к 3НФ<ul class="item-2 level-2"><li>Декомпозиция по последней ФЗ в цепочке</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">38</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения к 3НФ</h1><div class="body"><ul class="item-1 level-1"><li>ФЗ: <var>CId → Lecturer</var>, <var>Lecturer → Phone</var></li></ul><div class="img-width"><img class="width" style="width: 50%" src="pics/3NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Как декомпозировать?</span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">39</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения к 3НФ</h1><div class="body"><ul class="item-1 level-1"><li>ФЗ: <var>CId → Lecturer</var>, <var>Lecturer → Phone</var></li></ul><div class="img-width"><img class="width" style="width: 75%" src="pics/3NF_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">40</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Нормальная форма Бойса-Кодда</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc current">Первые нормальные формы</a><ol class="level-2 toc-2"><li><a href="#(18)" class="">Первая нормальная форма</a></li><li><a href="#(24)" class="">Аномалии</a></li><li><a href="#(29)" class="">Вторая нормальная форма</a></li><li><a href="#(35)" class="">Третья нормальная форма</a></li><li><a href="#(41)" class=" current">Нормальная форма Бойса-Кодда</a></li></ol></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">41</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример ФЗ в 3НФ</h1><div class="body"><ul class="item-1 level-1"><li>Свойства<ul class="item-2 level-2"><li>У каждого преподавателя свой телефон</li><li>Каждый преподаватель принимает у одной группы </li></ul></li></ul><div class="img-width"><img class="width" style="width: 75%" src="pics/3NF_Anomaly.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть ФЗ?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>CId Group → Examiner Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>CId Examiner → Group Phone</var></div></li><li class="incremental"><div class="non-incremental"><var>CId Phone → Group Examiner</var></div></li><li class="incremental"><div class="non-incremental"><var>Phone ↔ Examiner</var></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">42</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример аномалий в 3НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 75%" src="pics/3NF_Anomaly.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть аномалии?</span></li><li class="incremental"><div class="non-incremental">Аномалия обновления<ul class="item-2 level-2"><li>Изменен преподаватель, но не телефон</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">43</span></div></div></div></div>
<div class="slide"><div class="content"><h1>НФ Бойса-Кодда</h1><div class="body"><ul class="item-1 level-1"><li>Нормальная форма Бойса-Кодда (НФБК)<ul class="item-2 level-2"><li>В каждой нетривиальной функциональной зависимости <span class="mathO"><span class="math">$X → Y$</span></span>, <span class="mathO"><span class="math">$X$</span></span> является надключом</li></ul></li><li>НФБК сильнее, чем 3НФ</li><li>3НФ и неперекрывающиеся ключи ⇒ НФБК</li><li>Приведение к НФБК<ul class="item-2 level-2"><li>Декомпозиция по «неправильным» ФЗ</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">44</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения к НФБК</h1><div class="body"><ul class="item-1 level-1"><li><var>Examiner → Phone</var></li></ul><div class="img-width"><img class="width" style="width: 65%" src="pics/BKNF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Как декомпозировать?</span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">45</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример приведения к НФБК</h1><div class="body"><ul class="item-1 level-1"><li><var>Examiner → Phone</var></li></ul><div class="img-width"><img class="width" style="width: 95%" src="pics/BKNF_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">46</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теорема о достижимости НФБК</h1><div class="body"><ul class="item-1 level-1"><li>Любое отношение можно декомпозировать на отношения, находящиеся в НФБК<ul class="item-2 level-2"><li>Пока есть «мешающая» ФЗ, декомпозируем на два отношения</li><li>Число атрибутов уменьшается</li><li>Отношение из двух атрибутов находится в НФБК</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">47</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Недостижимость НФБК (1)</h1><div class="body"><ul class="item-1 level-1"><li>ФЗ<ul class="item-2 level-2"><li><var>Dept Course → Lecturer</var></li><li><var>Lecturer → Course</var></li></ul></li></ul><div class="img-width"><img class="width" style="width: 60%" src="pics/BKNF_Unreachability.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">48</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Особенности НФБК (2)</h1><div class="body"><ul class="item-1 level-1"><li>В НФБК могут «распадаться» ФЗ<ul class="item-2 level-2"><li>Зависимые атрибуты представлены в разных отношениях</li><li>Проверка «распределенных» ФЗ</li><li>К 3НФ можно привести, сохранив все ФЗ</li></ul></li><li>НФБК – «совершенная» НФ с точки зрения ФЗ</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">49</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Многозначные зависимости и четвертая НФ</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc current">Многозначные зависимости и четвертая НФ</a><ol class="level-2 toc-2"><li><a href="#(51)" class="">Аномалии в НФБК</a></li><li><a href="#(54)" class="">Многозначные зависимости</a></li><li><a href="#(58)" class="">Четвертая нормальная форма</a></li></ol></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">50</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Аномалии в НФБК</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc current">Многозначные зависимости и четвертая НФ</a><ol class="level-2 toc-2"><li><a href="#(51)" class=" current">Аномалии в НФБК</a></li><li><a href="#(54)" class="">Многозначные зависимости</a></li><li><a href="#(58)" class="">Четвертая нормальная форма</a></li></ol></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">51</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример ФЗ в НФБК </h1><div class="body"><div class="img-width"><img class="width" style="width: 75%" src="pics/4NF_1.svg" /></div><ul class="item-1 level-1"><li class="incremental"><div class="non-incremental"><span class="question">Какие есть функциональные зависимости?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Отсутствуют</div></li></ul></div></li><li class="incremental"><div class="non-incremental">⇒ Находится в НФБК</div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">52</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример аномалий в 3НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 75%" src="pics/4NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть аномалии?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Вставки, удаления, обновления</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">53</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Многозначные зависимости</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc current">Многозначные зависимости и четвертая НФ</a><ol class="level-2 toc-2"><li><a href="#(51)" class="">Аномалии в НФБК</a></li><li><a href="#(54)" class=" current">Многозначные зависимости</a></li><li><a href="#(58)" class="">Четвертая нормальная форма</a></li></ol></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">54</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Многозначная зависимость</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$X ↠ Y$</span></span> в отношении <span class="mathO"><span class="math">$R$</span></span><ul class="item-2 level-2"><li><span class="mathO"><span class="math">$X$</span></span> и <span class="mathO"><span class="math">$Y$</span></span> – множества атрибутов</li><li>Множество значений <span class="mathO"><span class="math">$Y$</span></span> не зависит от <span class="mathO"><span class="math">$Z = R \setminus Y \setminus X$</span></span></li><li><span class="mathO"><span class="math">$∀ x, z_1, z_2$</span></span> если <span class="mathO"><span class="math">$∃ y_1, y_2$</span></span>: <span class="mathO"><span class="math">$(x, y_1, z_1) ∈ R$</span></span> и <span class="mathO"><span class="math">$(x, y_2, z_2) ∈ R$</span></span>, <br /> то <span class="mathO"><span class="math">$\{y|(x, y, z_1) ∈ R\} = \{y|(x, y, z_2) ∈ R\}$</span></span></li></ul></li><li>Любая ФЗ является МЗ</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">55</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теорема Фейгина</h1><div class="body"><ul class="item-1 level-1"><li>Обобщение теоремы Хита</li><li><span class="mathO"><span class="math">$R(XYZ) = π_{XY}(R) ⋈ π_{XZ}(R)$</span></span> <var>⇔</var> <span class="mathO"><span class="math">$X ↠ Y$</span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="question">⇒</span><ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$R(XYZ) = π_{XY}(R) ⋈ π_{XZ}(R)$</span></span> ⇒ <span class="mathO"><span class="math">$(x, y, z) ∈ R ⇔ (x, y) ∈ π_{XY}(R) ∧ (x, z) ∈ π_{XZ}(R)$</span></span></div></li><li class="incremental"><div class="non-incremental">Пусть <span class="mathO"><span class="math">$(x, z_1) ∈ π_{XZ}(R), (x, z_2) ∈ π_{XZ}(R)$</span></span>, тогда <span class="mathO"><span class="math">$(x, y, z_1) ∈ R ⇔ (x, y) ∈ π_{XY}(R) ⇔ (x, y, z_2) ∈ R$</span></span></div></li></ul></div></li><li class="incremental"><div class="non-incremental"><span class="question">⇐</span><ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$∀ (x, y, z) ∈ π_{XY}(R) ⋈ π_{XZ}(R)$</span></span> ⇒ <span class="mathO"><span class="math">$(x, y) ∈ π_{XY}(R) ∧ (x, z) ∈ π_{XZ}(R)$</span></span></div></li><li class="incremental"><div class="non-incremental">Тогда <span class="mathO"><span class="math">$∃ y', z' : (x, y', z) ∈ R ∧ (x, y, z') ∈ R$</span></span></div></li><li class="incremental"><div class="non-incremental">так как <span class="mathO"><span class="math">$X ↠ Y$</span></span>, то <span class="mathO"><span class="math">$(x, y, z) ∈ R ∧ (x, y', z') ∈ R$</span></span></div></li></ul></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">56</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теорема о дополнении</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R(XYZ)$</span></span> и <span class="mathO"><span class="math">$X ↠ Y$</span></span> ⇒ <span class="mathO"><span class="math">$X ↠ Z$</span></span><ul class="item-2 level-2"><li>В доказательстве теоремы Фейгина <span class="mathO"><span class="math">$Y$</span></span> и <span class="mathO"><span class="math">$Z$</span></span> равноправны</li></ul></li><li><span class="mathO"><span class="math">$X ↠ Y | Z$</span></span></li><li>Следствие: <span class="mathO"><span class="math">$∀ R(XY)$</span></span> ⇒ <span class="mathO"><span class="math">$X ↠ Y | ∅$</span></span><ul class="item-2 level-2"><li>Тривиальные МЗ</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">57</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Четвертая нормальная форма</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc current">Многозначные зависимости и четвертая НФ</a><ol class="level-2 toc-2"><li><a href="#(51)" class="">Аномалии в НФБК</a></li><li><a href="#(54)" class="">Многозначные зависимости</a></li><li><a href="#(58)" class=" current">Четвертая нормальная форма</a></li></ol></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">58</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Четвертая нормальная форма</h1><div class="body"><ul class="item-1 level-1"><li>Для каждой нетривиальной МЗ <span class="mathO"><span class="math">$X ↠ Y | Z$</span></span> и атрибута <span class="mathO"><span class="math">$A$</span></span>: <span class="mathO"><span class="math">$X → A$</span></span></li><li>Для каждой нетривиальной МЗ <span class="mathO"><span class="math">$X ↠ Y | Z$</span></span><br ignore="ignore" /><span class="mathO"><span class="math">$X$</span></span> – надключ</li><li>Каждая нетривиальная МЗ является ФЗ, <br ignore="ignore" /> и отношение находится в НФБК</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">59</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теорема о декомпозиции (4НФ)</h1><div class="body"><ul class="item-1 level-1"><li>Любое отношение можно декомпозировать на отношения, находящиеся в 4НФ<ul class="item-2 level-2"><li>Пока есть МЗ, декомпозируем на два отношения</li><li>Количество атрибутов уменьшается</li><li>Отношение из двух атрибутов находится в 4НФ<ul class="item-3 level-3"><li class="incremental"><div class="non-incremental"><span class="question">Почти всегда</span></div></li></ul></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">60</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Декартово произведение</h1><div class="body"><ul class="item-1 level-1"><li>Пусть <span class="mathO"><span class="math">$R(XY) = R_1(X) × R_2(Y)$</span></span></li><li class="incremental"><div class="non-incremental"><span class="question">Находится ли <span class="mathO"><span class="math">$R$</span></span> в 4НФ?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="question">Нужно найти МЗ</span></div></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$∅ ↠ X | Y$</span></span></div></li><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$→$</span></span> не в 4НФ</div></li></ul></div></li><li class="incremental"><div class="non-incremental"><span class="question">Как декомпозировать?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">На <span class="mathO"><span class="math">$R_1$</span></span> и <span class="mathO"><span class="math">$R_2$</span></span></div></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">61</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример МЗ в 3НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 75%" src="pics/4NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть множественные зависимости?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>Course ↠ Lecturer | Book</var></div></li></ul></li><li class="incremental"><div class="non-incremental"><span class="question">Как декомпозировать?</span></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">62</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример МЗ в 3НФ </h1><div class="body"><div class="img-width"><img class="width" style="width: 80%" src="pics/4NF_2.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">63</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Зависимости соединения и 5НФ</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc current">Зависимости соединения и 5НФ</a><ol class="level-2 toc-2"><li><a href="#(65)" class="">Зависимости соединения</a></li><li><a href="#(70)" class="">Пятая нормальная форма</a></li></ol></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">64</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Зависимости соединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc current">Зависимости соединения и 5НФ</a><ol class="level-2 toc-2"><li><a href="#(65)" class=" current">Зависимости соединения</a></li><li><a href="#(70)" class="">Пятая нормальная форма</a></li></ol></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">65</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Множественная декомпозиция </h1><div class="body"><div class="img-width"><img class="width" style="width: 80%" src="pics/5NF_2.svg" /></div><ul class="item-1 level-1"><li>Какое условие должно выполняться, чтобы декомпозиция была корректной?</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">66</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Корректное ограничение</h1><div class="body"><ul class="item-1 level-1"><li>Если<ul class="item-2 level-2"><li>Лектор <span class="mathO"><span class="math">$L$</span></span> читает курс <span class="mathO"><span class="math">$C$</span></span></li><li>Лектор <span class="mathO"><span class="math">$L$</span></span> читает группе <span class="mathO"><span class="math">$G$</span></span></li><li>Группа <span class="mathO"><span class="math">$G$</span></span> слушает курс <span class="mathO"><span class="math">$C$</span></span></li></ul></li><li>То лектор <span class="mathO"><span class="math">$L$</span></span> читает курс <span class="mathO"><span class="math">$C$</span></span> группе <span class="mathO"><span class="math">$G$</span></span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">67</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Аномалии </h1><div class="body"><div class="img-width"><img class="width" style="width: 70%" src="pics/5NF_1.svg" /></div><ul class="item-1 level-1"><li><span class="question">Какие есть аномалии?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Вставки, удаления, обновления</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">68</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Зависимость соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$*\{X_1, X_2, ..., X_n\}$</span></span><ul class="item-2 level-2"><li><span class="mathO"><span class="math">$R(X_1X_2...X_n) = π_{X_1}(R) ⋈ π_{X_2}(R) ⋈ ⋅⋅⋅ ⋈ π_{X_n}(R)$</span></span></li></ul></li><li>Теорема Фейгина<ul class="item-2 level-2"><li>Для <span class="mathO"><span class="math">$R(XYZ)$</span></span>: <span class="mathO"><span class="math">$X ↠ Y | Z$</span></span> ⇔ <span class="mathO"><span class="math">$*\{XY, XZ\}$</span></span></li></ul></li><li>Тривиальные зависимости соединения<ul class="item-2 level-2"><li>Для любого <span class="mathO"><span class="math">$R$</span></span>: <span class="mathO"><span class="math">$*\{R, X_1, X_2, ..., X_n\}$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">69</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Пятая нормальная форма</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc current">Зависимости соединения и 5НФ</a><ol class="level-2 toc-2"><li><a href="#(65)" class="">Зависимости соединения</a></li><li><a href="#(70)" class=" current">Пятая нормальная форма</a></li></ol></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">70</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пятая нормальная форма</h1><div class="body"><ul class="item-1 level-1"><li>5НФ (проекционно-соединительная)<ul class="item-2 level-2"><li>Для каждой нетривиальной ЗС <span class="mathO"><span class="math">$*\{X_1, X_2, ..., X_n\}$</span></span> каждое <span class="mathO"><span class="math">$X_i$</span></span> – надключ</li></ul></li><li class="incremental"><div class="non-incremental">Для нормализации требуется найти все ЗС<ul class="item-2 level-2"><li>Это сложно</li><li>На практике ЗС, не являющиеся МЗ, встречаются редко</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">71</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Кольцевые ограничения</h1><div class="body"><ul class="item-1 level-1"><li>Если<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$(x_1, x_2) ∈ π_{X_1X_2}(R)$</span></span></li><li><span class="mathO"><span class="math">$(x_2, x_3) ∈ π_{X_2X_3}(R)$</span></span> ...</li><li><span class="mathO"><span class="math">$(x_{n-1}, x_n) ∈ π_{X_{n-1}X_n}(R)$</span></span></li><li><span class="mathO"><span class="math">$(x_n, x_1) ∈ π_{X_nX_1}(R)$</span></span></li></ul></li><li>То <span class="mathO"><span class="math">$(x_1, x_2, ..., x_n) ∈ R$</span></span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">72</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Процесс нормализации и другие НФ</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc current">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">73</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Иерархия нормальных форм</h1><div class="body"><ul class="item-1 level-1"><li>1НФ<ul class="item-2 level-2"><li>Отношение</li></ul></li><li>2НФ</li><li>3НФ</li><li>НФБК<ul class="item-2 level-2"><li>Лучшая для ФЗ</li></ul></li><li>4НФ<ul class="item-2 level-2"><li>Лучшая для декомпозиции на два отношения</li></ul></li><li>5НФ<ul class="item-2 level-2"><li>Лучшая для декомпозиции</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">74</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Теоремы Дейта-Фейгина</h1><div class="body"><ul class="item-1 level-1"><li>Теорема Дейта-Фейгина 1<ul class="item-2 level-2"><li>Если отношение находится в 3НФ и все ключи простые <span class="mathO"><span class="math">$→$</span></span> отношение находится в 5НФ</li></ul></li><li>Теорема Дейта-Фейгина 2<ul class="item-2 level-2"><li>Если отношение находится в НФБК и существует простой ключ <span class="mathO"><span class="math">$→$</span></span> отношение находится в 4НФ</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">75</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Процесс нормализации</h1><div class="body"><ul class="item-1 level-1"><li>1НФ</li><li>НФБК</li><li>4 НФ</li><li>5 НФ</li><li>Отношения, построенные по модели сущность-связь, обычно имеют 3+НФ</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">76</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Набор операций</h1><div class="body"><ul class="item-1 level-1"><li>Проекция и соединения<ul class="item-2 level-2"><li>Разделение на части</li><li>Склейка частей</li></ul></li><li class="incremental"><div class="non-incremental">Разбиение и объединение<ul class="item-2 level-2"><li>Partitioning</li><li>Свои нормальные формы</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">77</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Доменно-ключевая НФ</h1><div class="body"><ul class="item-1 level-1"><li>ДКНФ<ul class="item-2 level-2"><li>Все ограничения являются следствием ограничения доменов и ключей</li><li>Ограничение домена – тип атрибута</li><li>Ограничение ключа – множество атрибутов является ключом</li></ul></li><li class="incremental"><div class="non-incremental">ДКНФ <span class="mathO"><span class="math">$⊊$</span></span> 5НФ (Фейгин)</div></li><li class="incremental"><div class="non-incremental">Не достижима инкрементально</div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">78</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Денормализация</h1><div class="body"><ul class="item-1 level-1"><li>Нормализация<ul class="item-2 level-2"><li>Большое количество отношений</li><li>Сложность для понимания</li><li>Падение производительности</li></ul></li><li>Денормализация<ul class="item-2 level-2"><li>Отношения, находящиеся в первых НФ</li><li>Хранение вычисляемых значений<ul class="item-3 level-3"><li>Дублирование данных</li></ul></li><li>«Ручное» отслеживание зависимостей и аномалий</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">79</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Литература</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Цели и средства нормализации</a></li><li><a href="#(17)" class="toc">Первые нормальные формы</a></li><li><a href="#(50)" class="toc">Многозначные зависимости и четвертая НФ</a></li><li><a href="#(64)" class="toc">Зависимости соединения и 5НФ</a></li><li><a href="#(73)" class="toc">Процесс нормализации и другие НФ</a></li><li><a href="#(80)" class="toc current">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">80</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Основная литература</h1><div class="body"><ul class="item-1 level-1"><li><em>Дейт К.</em> Введение в системы баз данных (главы 12 и 13)</li><li><em>Уидом Д.</em>, <em>Ульман Д.</em> Основы реляционных баз данных (глава 3)</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">81</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дополнительная литература</h1><div class="body"><ul class="item-1 level-1"><li><em>Fagin R.</em> Normal forms and relational database operators</li><li><em>Fagin R.</em> Multivalued Dependencies and a New Normal Form for Relational Databases</li><li><em>Beeri C.</em>, <em>Fagin R.</em>, <em>Howard J.</em> A complete axiomatization for functional and multivalued dependencies in database relations</li><li><em>Date C. J., Fagin R.</em> Simple conditions for guaranteeing higher normal forms in relational databases</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Нормализация баз данных</span><span class="number">82</span></div></div></div></div></div></body></html>