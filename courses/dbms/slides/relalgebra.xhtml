<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>Базы данных / Реляционная алгебра</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="scripts/slidy.css" /><link rel="stylesheet" type="text/css" href="scripts/prettify.css" /><link rel="stylesheet" type="text/css" href="scripts/kgeorgiy-slides.css" /><script type="text/javascript" src="scripts/slidy.js" charset="utf-8" /><script type="text/javascript" src="scripts/kgeorgiy-slides.js" charset="utf-8" /><script type="text/javascript" src="scripts/prettify.js" /><script type="text/javascript" src="scripts/lang-sql.js" /><script type="text/javascript" src="scripts/lang-javaModule.js" /><script type="text/javascript" src="scripts/lang-scala.js" /><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML" /><script type="text/javascript">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']], displayMath: [['$$','$$']], ignoreClass: "", processClass: "math|lang-math"}});</script><script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-37693764-1"]);_gaq.push(["_setDomainName","kgeorgiy.info"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8EQ66D87ZZ" /><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-8EQ66D87ZZ');
                </script></head><body onload="prettyPrint()"><div id="all"><span class="mathO"><span class="math">$ \newcommand\joineq{\raise{-0.05ex}{\unicode{xa78a}}} \newcommand{\rjoin}{\mathbin{⋉\mkern-6mu\joineq}} \newcommand{\ljoin}{\mathbin{\joineq\mkern-6mu⋊}} \newcommand{\ojoin}{\mathbin{\joineq\mkern-10mu×\mkern-10mu\joineq}}$</span></span>
<div class="slide cover"><div class="content"><div class="course">Базы данных</div><hr /><div class="lecture"><div>Реляционная алгебра</div></div><div class="link"><a href="https://kgeorgiy.info/courses/dbms/">https://kgeorgiy.info/courses/dbms/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Георгий Корнеев</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide section"><div class="content"><h1>Реляционная алгебра</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">2</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Запросы</h1><div class="body"><ul class="item-1 level-1"><li>Выборка данных</li><li>Область действия обновлений</li><li>Ограничения целостности</li><li>Ограничения доступа</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">3</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Реляционная алгебра</h1><div class="body"><ul class="item-1 level-1"><li>Императивный язык для работы с отношениями<ul class="item-2 level-2"><li>Указывает, как именно получить требуемый результат</li></ul></li><li><span class="question">Что такое алгебра в математике?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Множество (носитель)</div></li><li class="incremental"><div class="non-incremental">Набор операций</div></li><li class="incremental"><div class="non-incremental">Операции замкнуты</div></li></ul></li><li class="incremental"><div class="non-incremental"><span class="question">Что может быть носителем?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Множество всех отношений</div></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">4</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Выражения</h1><div class="body"><ul class="item-1 level-1"><li>Операции<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$π_A(R)$</span></span></li><li><span class="mathO"><span class="math">$R_1 ⋈ R_2$</span></span></li><li>...</li></ul></li><li>Замкнутость реляционной алгебры<ul class="item-2 level-2"><li>Операции преобразуют отношения в отношения</li><li>Операции можно комбинировать</li></ul></li><li>Пример выражения<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$π_X(R_1 ⋈ π_Y(R_2)) ⋈ R_3$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">5</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции</h1><div class="body"><ul class="item-1 level-1"><li>Отношение<ul class="item-2 level-2"><li>Заголовок</li><li>Тело</li></ul></li><li>Операция<ul class="item-2 level-2"><li>Правило построения заголовка</li><li>Правило построения тела</li></ul></li><li><span class="question">Что забыто?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Возможность выполнения операции</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">6</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Унарные операции</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc current">Унарные операции</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Проекция</a></li><li><a href="#(14)" class="">Фильтрация</a></li><li><a href="#(22)" class="">Переименование</a></li></ol></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">7</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Проекция</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc current">Унарные операции</a><ol class="level-2 toc-2"><li><a href="#(8)" class=" current">Проекция</a></li><li><a href="#(14)" class="">Фильтрация</a></li><li><a href="#(22)" class="">Переименование</a></li></ol></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">8</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Проекция</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$π_{A_1, A_2, …, A_n}$</span></span> – проекция на атрибуты <span class="mathO"><span class="math">$A_1, A_2, …, A_n$</span></span></li><li>Заголовок<ul class="item-2 level-2"><li>Пересечение с <span class="mathO"><span class="math">$\{A_1, A_2, …, A_n\}$</span></span></li></ul></li><li>Тело<ul class="item-2 level-2"><li>Пересечение кортежей с <span class="mathO"><span class="math">$\{A_1, A_2, …, A_n\}$</span></span></li></ul></li></ul><div class="img-width"><img class="width" style="width: 50%" src="pics/Primitive_Projection_0.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">9</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример проекции (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$π_{FirstName, LastName}$</span></span></li></ul><img class="height" style="height: 40%" src="pics/Primitive_Projection_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">10</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример проекции (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$π_{FirstName, LastName}$</span></span></li></ul><img class="height" style="height: 40%" src="pics/Primitive_Projection_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">11</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример проекции (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$π_{FirstName}$</span></span></li></ul><img class="height" style="height: 40%" src="pics/Primitive_Projection_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">12</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример проекции (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$π_{FirstName}$</span></span></li></ul><img class="height" style="height: 40%" src="pics/Primitive_Projection_3.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">13</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Фильтрация</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc current">Унарные операции</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Проекция</a></li><li><a href="#(14)" class=" current">Фильтрация</a></li><li><a href="#(22)" class="">Переименование</a></li></ol></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">14</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Фильтрация (сечение, выборка)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{condition}$</span></span> – фильтрация по условию</li><li>Заголовок<ul class="item-2 level-2"><li>Сохраняется</li></ul></li><li>Тело<ul class="item-2 level-2"><li>Кортежи, удовлетворяющие условию </li></ul></li></ul><div class="img-width"><img class="width" style="width: 70%" src="pics/Primitive_Section_0.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">15</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{Id &gt; 2}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">16</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{Id &gt; 2}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">17</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{Id &gt; 2 ∧ FirstName = \text{Иван}}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">18</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{Id &gt; 2 ∧ FirstName = \text{Иван}}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_3.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">19</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (3)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{length(FirstName) + 2 ≥ length(LastName)}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">20</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример фильтрации (3)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$σ_{length(FirstName) + 2 ≥ length(LastName)}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Section_4.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">21</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Переименование</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc current">Унарные операции</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Проекция</a></li><li><a href="#(14)" class="">Фильтрация</a></li><li><a href="#(22)" class=" current">Переименование</a></li></ol></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">22</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Переименование</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ρ_{NewName_i=OldName_i}$</span></span> – изменение имени атрибута</li><li>Заголовок<ul class="item-2 level-2"><li>Имя <span class="mathO"><span class="math">$OldName_i$</span></span> меняется на <span class="mathO"><span class="math">$NewName_i$</span></span></li></ul></li><li>Тело<ul class="item-2 level-2"><li>Имя <span class="mathO"><span class="math">$OldName_i$</span></span> меняется на <span class="mathO"><span class="math">$NewName_i$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">23</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример переименования</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ρ_{Name=FirstName, Surname=LastName}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Rename_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">24</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример переименования</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ρ_{Name=FirstName, Surname=LastName}$</span></span></li></ul><img class="height" style="height: 37%" src="pics/Primitive_Rename_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">25</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Операции над множествами</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc current">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">26</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции над множествами</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∪ R_2$</span></span> – объединение</li><li><span class="mathO"><span class="math">$R_1 ∩ R_2$</span></span> – пересечение</li><li><span class="mathO"><span class="math">$R_1 ∖ R_2$</span></span> – разность</li><li>Заголовок<ul class="item-2 level-2"><li>Сохраняется</li><li><span class="warn">Применяются для отношений с одинаковыми заголовками</span></li></ul></li><li>Тело<ul class="item-2 level-2"><li>Соответствующая операция над множествами</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">27</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример объединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∪ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Union_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">28</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример объединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∪ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Union_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">29</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример пересечения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∩ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Intersect_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">30</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример пересечения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∩ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Intersect_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">31</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример разности</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∖ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Minus_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">32</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример разности</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ∖ R_2$</span></span></li></ul><img class="height" style="height: 80%" src="pics/Set_Minus_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">33</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Соединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class="">Полное соединение</a></li><li><a href="#(40)" class="">Естественное соединение</a></li><li><a href="#(45)" class="">Внешние соединения</a></li><li><a href="#(52)" class="">Полусоединения</a></li><li><a href="#(56)" class="">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">34</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Соединения</h1><div class="body"><ul class="item-1 level-1"><li>Соединение – объединяет данные двух отношений </li></ul><div class="img-width"><img class="width" style="width: 100%" src="pics/Join_Example.svg" /></div></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">35</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Полное соединение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class=" current">Полное соединение</a></li><li><a href="#(40)" class="">Естественное соединение</a></li><li><a href="#(45)" class="">Внешние соединения</a></li><li><a href="#(52)" class="">Полусоединения</a></li><li><a href="#(56)" class="">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">36</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Полное соединение</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 × R_2$</span></span> – декартово произведение двух отношений</li><li>Заголовок<ul class="item-2 level-2"><li>Объединение заголовков</li><li><span class="warn">Различные имена атрибутов</span></li></ul></li><li>Тело<ul class="item-2 level-2"><li>Декартово произведение тел отношений</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">37</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример полного соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 × R_2$</span></span></li></ul><img class="height" style="height: 65%" src="pics/Join_Full_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">38</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример полного соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 × R_2$</span></span></li></ul><img class="height" style="height: 65%" src="pics/Join_Full_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">39</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Естественное соединение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class="">Полное соединение</a></li><li><a href="#(40)" class=" current">Естественное соединение</a></li><li><a href="#(45)" class="">Внешние соединения</a></li><li><a href="#(52)" class="">Полусоединения</a></li><li><a href="#(56)" class="">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">40</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Естественное соединение</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋈ R_2$</span></span> – соединение по одноимённым атрибутам</li><li>Заголовок<ul class="item-2 level-2"><li>Объединение заголовков</li></ul></li><li>Тело<ul class="item-2 level-2"><li>«Склееные» пары кортежей с равными одноимёнными атрибутами</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">41</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример естественного соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋈ R_2$</span></span></li></ul><img class="height" style="height: 65%" src="pics/Join_Natural_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">42</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример естественного соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋈ R_2$</span></span></li></ul><img class="height" style="height: 65%" src="pics/Join_Natural_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">43</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Размер естественного соединения</h1><div class="body"><ul class="item-1 level-1"><li>Пусть <span class="mathO"><span class="math">$n=|R_1|$</span></span>, <span class="mathO"><span class="math">$m=|R_2|$</span></span></li><li><span class="question">Максимальный <span class="mathO"><span class="math">$|R_1 ⋈ R_2|$</span></span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$n×m$</span></span> – нет общих атрибутов</div></li></ul></li><li class="incremental"><div class="non-incremental"><span class="question">Минимальный <span class="mathO"><span class="math">$|R_1 ⋈ R_2|$</span></span></span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">0 – нет равных атрибутов</div></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">44</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Внешние соединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class="">Полное соединение</a></li><li><a href="#(40)" class="">Естественное соединение</a></li><li><a href="#(45)" class=" current">Внешние соединения</a></li><li><a href="#(52)" class="">Полусоединения</a></li><li><a href="#(56)" class="">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">45</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Внешнее соединение</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ojoin R_2$</span></span> – внешнее соединение по одноимённым атрибутам</li><li>Заголовок<ul class="item-2 level-2"><li>Объединение заголовков</li></ul></li><li>Тело<ul class="item-2 level-2"><li>Как в естественном соединении</li><li>Если в другом отношении нет соответствующего кортежа, берется пустой</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">46</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример внешнего соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ojoin R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_Outer_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">47</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример внешнего соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ojoin R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_Outer_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">48</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Левое и правое соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ljoin R_2$</span></span> – левое соединение<ul class="item-2 level-2"><li>Все кортежи слева, дополненные информацией справа</li><li><span class="mathO"><span class="math">$(R_1 ⋈ R_2) ⊎ (R_1 ∖ π_{R_1}(R_1 ⋈ R_2))$</span></span></li></ul></li><li><span class="mathO"><span class="math">$R_1 \rjoin R_2$</span></span> – правое соединение<ul class="item-2 level-2"><li>Все кортежи справа, дополненные информацией слева</li><li><span class="mathO"><span class="math">$(R_1 ⋈ R_2) ⊎ (R_2 ∖ π_{R_2}(R_1 ⋈ R_2))$</span></span></li></ul></li><li class="incremental"><div class="non-incremental"><span class="question">Как сделать внешнее соединение?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><span class="mathO"><span class="math">$R_1 \ojoin R_2 ≡ (R_1 \ljoin R_2) ∪ (R_1 \rjoin R_2)$</span></span></div></li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">49</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры косых соединений</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ljoin R_2$</span></span> и <span class="mathO"><span class="math">$R_1 \rjoin R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_LeftRight_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">50</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры косых соединений</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ljoin R_2$</span></span> и <span class="mathO"><span class="math">$R_1 \rjoin R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_LeftRight_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">51</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Полусоединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class="">Полное соединение</a></li><li><a href="#(40)" class="">Естественное соединение</a></li><li><a href="#(45)" class="">Внешние соединения</a></li><li><a href="#(52)" class=" current">Полусоединения</a></li><li><a href="#(56)" class="">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">52</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Полусоединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋉ R_2$</span></span> – левое полусоединение<ul class="item-2 level-2"><li>Кортежи слева, для которых есть соответствующий кортеж справа</li><li><span class="mathO"><span class="math">$R_1 ⋉ R_2 ≡ π_{R_1}(R_1 ⋈ R_2)$</span></span></li><li><span class="mathO"><span class="math">$R_1 \ljoin R_2 = (R_1 ⋈ R_2) ⊎ (R_1 ∖ R_1 ⋉ R_2)$</span></span></li></ul></li><li><span class="mathO"><span class="math">$R_1 ⋊ R_2$</span></span> – правое полусоединение<ul class="item-2 level-2"><li>Кортежи справа, для которых есть соответствующий кортеж слева</li><li><span class="mathO"><span class="math">$R_1 ⋊ R_2 ≡ π_{R_2}(R_1 ⋈ R_2)$</span></span></li><li><span class="mathO"><span class="math">$R_1 \rjoin R_2 = (R_1 ⋈ R_2) ⊎ (R_2 ∖ R_1 ⋊ R_2)$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">53</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры полусоединений</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋉ R_2$</span></span> и <span class="mathO"><span class="math">$R_1 ⋊ R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_Semi_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">54</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Примеры полусоединений</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋉ R_2$</span></span> и <span class="mathO"><span class="math">$R_1 ⋊ R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_Semi_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">55</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Условные соединения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc current">Соединения</a><ol class="level-2 toc-2"><li><a href="#(36)" class="">Полное соединение</a></li><li><a href="#(40)" class="">Естественное соединение</a></li><li><a href="#(45)" class="">Внешние соединения</a></li><li><a href="#(52)" class="">Полусоединения</a></li><li><a href="#(56)" class=" current">Условные соединения</a></li></ol></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">56</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Условные соединения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 ⋈_θ R_2$</span></span> – условное соединение<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$σ_θ(R_1 × R_2)$</span></span></li></ul></li><li><span class="mathO"><span class="math">$R_1 \ljoin_θ R_2$</span></span> – левое условное соединение<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$J ⊎ (R_1 ∖ π_{R_1}(J))$</span></span>, где <span class="mathO"><span class="math">$J = R_1 ⋈_θ R_2$</span></span></li></ul></li><li><span class="mathO"><span class="math">$R_1 \rjoin_θ R_2$</span></span> – правое условное соединение<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$J ⊎ (R_2 ∖ π_{R_2}(J))$</span></span>, где <span class="mathO"><span class="math">$J = R_1 ⋈_θ R_2$</span></span></li></ul></li><li><span class="mathO"><span class="math">$R_1 \ojoin_θ R_2$</span></span> – внешнее условное соединение<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$(R_1 \ljoin_θ R_2) ∪ (R_1 \rjoin_θ R_2)$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">57</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример левого условного соед.</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ljoin_{length(FirstName) + 2 &lt; length(LastName)} R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_LeftTheta_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">58</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример левого условного соед.</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$R_1 \ljoin_{length(FirstName) + 2 &lt; length(LastName)} R_2$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Join_LeftTheta_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">59</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Деление</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc current">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">60</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Деление</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q(XY) ÷ S(Y)$</span></span> – деление<ul class="item-2 level-2"><li>Найти максимальное <span class="mathO"><span class="math">$X$</span></span>, такое, что <span class="mathO"><span class="math">$X × S ⊆ Q$</span></span></li><li><span class="mathO"><span class="math">$Q ÷ S ≡ \{x | x ∈ π_X(Q), \{x\} × S ⊆ Q \}$</span></span></li><li><span class="mathO"><span class="math">$Q ÷ S ≡ π_X(Q) ∖ π_X(π_X(Q) × S ∖ Q)$</span></span></li></ul></li><li>Интуиция<ul class="item-2 level-2"><li>Запрос «для всех»</li><li><span class="mathO"><span class="math">$x$</span></span>, для которых есть пара для каждого <span class="mathO"><span class="math">$y$</span></span><ul class="item-3 level-3"><li><span class="mathO"><span class="math">$x ∈ π_X(Q): ∀ y ∈ S: (x, y) ∈ Q$</span></span></li></ul></li></ul></li><li>Заголовок – <span class="mathO"><span class="math">$X$</span></span><ul class="item-2 level-2"><li><span class="warn"><span class="mathO"><span class="math">$S ⊆ Q$</span></span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">61</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример деления</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q ÷ S$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Divide_Example_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">62</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример деления</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q ÷ S$</span></span></li></ul><img class="height" style="height: 70%" src="pics/Divide_Example_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">63</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Большое деление</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q(XY) ⋇ S(YZ)$</span></span> – большое деление<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$Q ⋇ S ≡ \{(x, z) | \{x\} × π_Y(σ_{Z=z}(S)) ⊆ Q\}$</span></span></li><li><span class="mathO"><span class="math">$Q ⋇ S ≡ π_X(Q) × π_Z(S) ∖ π_{XZ}(π_X(Q) × S ∖ Q ⋈ S)$</span></span></li></ul></li><li>Интуиция<ul class="item-2 level-2"><li>Запрос «для всех связанных»</li><li>Деление для каждого <span class="mathO"><span class="math">$z$</span></span></li><li>Для каждого <span class="mathO"><span class="math">$z$</span></span> такие <span class="mathO"><span class="math">$x$</span></span>, что есть пара для всех <span class="mathO"><span class="math">$y$</span></span>, связанных с <span class="mathO"><span class="math">$z$</span></span><ul class="item-3 level-3"><li><span class="mathO"><span class="math">$(x, z) ∈ π_X(Q) × π_Z(S): ∀ y ∈ π_Y(σ_{Z=z}(S)): (x, y) ∈ Q$</span></span></li></ul></li></ul></li><li>Заголовок – <span class="mathO"><span class="math">$XZ$</span></span></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">64</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример большого деления</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q ⋇ S$</span></span></li></ul><img class="height" style="height: 45%" src="pics/Divide_Great_Example_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">65</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример большого деления</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Q ⋇ S$</span></span></li></ul><img class="height" style="height: 45%" src="pics/Divide_Great_Example_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">66</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Операции над данными</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc current">Операции над данными</a><ol class="level-2 toc-2"><li><a href="#(68)" class="">Расширение</a></li><li><a href="#(72)" class="">Агрегирование</a></li></ol></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">67</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Расширение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc current">Операции над данными</a><ol class="level-2 toc-2"><li><a href="#(68)" class=" current">Расширение</a></li><li><a href="#(72)" class="">Агрегирование</a></li></ol></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">68</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Расширение</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ε_{A=expression}(R)$</span></span><ul class="item-2 level-2"><li>Добавляет вычисляемый атрибут</li></ul></li><li>Заголовок<ul class="item-2 level-2"><li>Заголовок <span class="mathO"><span class="math">$R ∪ \{A\}$</span></span></li></ul></li><li>Тело<ul class="item-2 level-2"><li>К каждому кортежу добавляется вычисленное значение</li></ul></li><li>Выражение<ul class="item-2 level-2"><li>Атрибуты одного кортежа</li><li>Функции и операции</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">69</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример расширения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ε_{Tax=tax10(Total)} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 32%" src="pics/Data_Extend_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">70</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример расширения</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$ε_{Tax=tax10(Total)} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 32%" src="pics/Data_Extend_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">71</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Агрегирование</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc current">Операции над данными</a><ol class="level-2 toc-2"><li><a href="#(68)" class="">Расширение</a></li><li><a href="#(72)" class=" current">Агрегирование</a></li></ol></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">72</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Агрегирование</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$Function_{A, X}(R)$</span></span> – обработка набора значений<ul class="item-2 level-2"><li>Функция: <var>count</var>, <var>sum</var>, <var>avg</var>, <var>max</var>, <var>min</var>, <var>every</var>, <var>any</var></li><li><span class="mathO"><span class="math">$A$</span></span> – агрегируемый атрибут</li><li><span class="mathO"><span class="math">$X$</span></span> – сохраняемые атрибуты</li><li>Каждый <span class="mathO"><span class="math">$r ∈ π_X(R)$</span></span> расширяется атрибутом <span class="mathO"><span class="math">$A = Function(π_A\{r' ∈ R | π_X(r') = r\})$</span></span></li></ul></li><li>Интуиция<ul class="item-2 level-2"><li>Разбить на корзины по значениям <span class="mathO"><span class="math">$X$</span></span></li><li>Для каждой корзины посчитать функцию над <span class="mathO"><span class="math">$A$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">73</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример агрегирования (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$sum_{Total,\{Supplier\}} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 35%" src="pics/Data_Aggregate_1_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">74</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример агрегирования (1)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$sum_{Total,\{Supplier\}} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 35%" src="pics/Data_Aggregate_1_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">75</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример агрегирования (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$sum_{Total,∅} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 35%" src="pics/Data_Aggregate_2_1.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">76</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример агрегирования (2)</h1><div class="body"><ul class="item-1 level-1"><li><span class="mathO"><span class="math">$sum_{Total,∅} ∘ ε_{Total=Price · Items}$</span></span></li></ul><img class="height" style="height: 35%" src="pics/Data_Aggregate_2_2.svg" /></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">77</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Свойства реляционной алгебры</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc current">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">78</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Свойства операций</h1><div class="body"><ul class="item-1 level-1"><li>Идемпотентность<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$π$</span></span>, <span class="mathO"><span class="math">$σ$</span></span></li><li><span class="mathO"><span class="math">$⋈$</span></span>, <span class="mathO"><span class="math">$∪$</span></span>, <span class="mathO"><span class="math">$∩$</span></span>, <span class="mathO"><span class="math">$\ojoin$</span></span>, <span class="mathO"><span class="math">$\ljoin$</span></span>, <span class="mathO"><span class="math">$\rjoin$</span></span>, <span class="mathO"><span class="math">$⋉$</span></span> (справа), <span class="mathO"><span class="math">$⋊$</span></span> (слева), <span class="mathO"><span class="math">$∖$</span></span> (справа)</li></ul></li><li>Коммутативность<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$∪$</span></span>, <span class="mathO"><span class="math">$∩$</span></span>, <span class="mathO"><span class="math">$×$</span></span>, <span class="mathO"><span class="math">$⋈$</span></span>, <span class="mathO"><span class="math">$\ojoin$</span></span></li></ul></li><li>Ассоциативность<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$∪$</span></span>, <span class="mathO"><span class="math">$∩$</span></span>, <span class="mathO"><span class="math">$×$</span></span>, <span class="mathO"><span class="math">$⋈$</span></span>, <span class="mathO"><span class="math">$\ojoin$</span></span>, <span class="mathO"><span class="math">$\ljoin$</span></span>, <span class="mathO"><span class="math">$\rjoin$</span></span></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">79</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Базис операций</h1><div class="body"><ul class="item-1 level-1"><li>Унарные операции</li><li>Объединение и разность</li><li>Декартово произведение</li><li>Операции над данными</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">80</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Ограничения реляционной алгебры</h1><div class="body"><ul class="item-1 level-1"><li>Не все «естественные» запросы могут быть выражены<ul class="item-2 level-2"><li>Невозможно выразить транзитивное замыкание</li><li>Но можно найти пути длины не больше <span class="mathO"><span class="math">$L$</span></span></li></ul></li><li class="incremental"><div class="non-incremental">Значение выражения может быть вычислено за полиномиальное время<ul class="item-2 level-2"><li>Реляционная алгебра не полна по Тьюрингу</li></ul></div></li><li class="incremental"><div class="non-incremental">Эквивалентность выражений алгоритмически не разрешима</div></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">81</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Зачем реляционная алгебра</h1><div class="body"><ul class="item-1 level-1"><li>Преобразование запросов<ul class="item-2 level-2"><li>Упрощение запроса</li><li>Оптимизация плана выполнения</li></ul></li><li>Запросы, не выразимые в SQL непосредственно<ul class="item-2 level-2"><li>Полусоединения</li><li>Деления</li><li>Неполная поддержка соединений</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">82</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Реляционная алгебра и SQL</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc current">Реляционная алгебра и SQL</a><ol class="level-2 toc-2"><li><a href="#(84)" class="">Операции</a></li><li><a href="#(90)" class="">Структура запроса</a></li></ol></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">83</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Операции</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc current">Реляционная алгебра и SQL</a><ol class="level-2 toc-2"><li><a href="#(84)" class=" current">Операции</a></li><li><a href="#(90)" class="">Структура запроса</a></li></ol></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">84</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Унарные операции</h1><div class="body"><ul class="item-1 level-1"><li>Проекция <span class="mathO"><span class="math">$π_{A_1, A_2, …, A_n}(R)$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select distinct A1, A2, …, An from R
</pre></li><li><pre class="prettyprint lang-sql">select A1, A2, …, An from R 
   -- с повторениями
</pre></li></ul></li><li>Фильтрация <span class="mathO"><span class="math">$σ_{Condition}(R)$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R where Condition
</pre></li></ul></li><li>Переименование <span class="mathO"><span class="math">$ρ_{a=b}(R)$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select …, b as a, … from R
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">85</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции над множествами</h1><div class="body"><ul class="item-1 level-1"><li>Объединение <span class="mathO"><span class="math">$R_1 ∪ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 union select * from R2
</pre></li><li><pre class="prettyprint lang-sql">select * from R1 union all select * from R2
    -- с повторениями
</pre></li></ul></li><li>Пересечение <span class="mathO"><span class="math">$R_1 ∩ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 intersect select * from R2
</pre></li><li><pre class="prettyprint lang-sql">select * from R1 intersect all select * from R2
    -- с повторениями
</pre></li></ul></li><li>Разность <span class="mathO"><span class="math">$R_1 ∖ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 except all select * from R2
</pre></li><li><pre class="prettyprint lang-sql">select * from R1 except select * from R2
    -- с повторениями
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">86</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с данными</h1><div class="body"><ul class="item-1 level-1"><li>Расширение <span class="mathO"><span class="math">$ε_{A=expr}(R)$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select *, expr as A from R
</pre></li></ul></li><li>Агрегирование <span class="mathO"><span class="math">$Function_{A, X}(R)$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select X, Function(A) as A from R group by X
</pre></li><li><pre class="prettyprint lang-sql">select count(*) … -- подсчет всех
</pre></li><li><pre class="prettyprint lang-sql">select count(distinct *) … -- подсчет различных
</pre></li><li><pre class="prettyprint lang-sql">select count(q) … -- подсчет не null
</pre></li><li><pre class="prettyprint lang-sql">… having condition -- фильтрация после агрегации
</pre></li><li><pre class="prettyprint lang-sql">… order by attrs -- сортировка
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">87</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Соединения</h1><div class="body"><ul class="item-1 level-1"><li>Полное <span class="mathO"><span class="math">$R_1 × R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 cross join R2
</pre></li><li><pre class="prettyprint lang-sql">select * from R1, R2
</pre></li></ul></li><li>Естественное <span class="mathO"><span class="math">$R_1 ⋈ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 natural join R2
</pre></li><li><pre class="prettyprint lang-sql">select * from R1 inner join R2 using (A)
</pre></li><li><pre class="prettyprint lang-sql">select * from R1 inner join R2 on R1.A = R2.A
</pre></li></ul></li><li>Условное <span class="mathO"><span class="math">$R_1 ⋈_θ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 inner join R2 on θ
</pre></li></ul></li><li>Полусоединений нет</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">88</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Внешние соединения</h1><div class="body"><ul class="item-1 level-1"><li>Полное <span class="mathO"><span class="math">$R_1 \ojoin_θ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 [full] outer join R2 on θ
</pre></li></ul></li><li>Левое <span class="mathO"><span class="math">$R_1 \ljoin_θ R_2$</span></span>,<ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 left [join] R2 on θ
</pre></li></ul></li><li>Правое <span class="mathO"><span class="math">$R_1 \rjoin_θ R_2$</span></span><ul class="item-2 level-2"><li><pre class="prettyprint lang-sql">select * from R1 right [join] R2 on θ
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">89</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Структура запроса</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc current">Реляционная алгебра и SQL</a><ol class="level-2 toc-2"><li><a href="#(84)" class="">Операции</a></li><li><a href="#(90)" class=" current">Структура запроса</a></li></ol></li><li><a href="#(96)" class="toc">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">90</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Переименование таблиц</h1><div class="body"><ul class="item-1 level-1"><li>Таблица<ul class="item-2 level-2"><li><var>Persons (Id, Name, Birthday, MotherId, FatherId)</var></li></ul></li><li><span class="question">Получить дни рождения родителей</span><ul class="item-2 level-2"><li><var>(Name, FatherBirthday, MotherBirthday)</var></li><li class="incremental"><div class="non-incremental"><pre class="prettyprint lang-sql">select
        p.Name as Name,
        f.Birthday as FatherBirthday,
        m.Birthday as MotherBirthday
    from
        Persons p
        inner join Persons f on p.FatherId = f.Id
        inner join Persons m on p.MotherId = m.id
</pre></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">91</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Подзапросы</h1><div class="body"><ul class="item-1 level-1"><li>Таблица<ul class="item-2 level-2"><li><var>Persons (Id, Name, Birthday, MotherId, FatherId)</var></li></ul></li><li><span class="question">Имена людей, у которых родители родились в один день</span><ul class="item-2 level-2"><li><var>(Name)</var></li><li class="incremental"><div class="non-incremental"><pre class="prettyprint lang-sql">select p.Name as Name
    from (предыдущий запрос)
    where p.MotherBirthday = p.FatherBirthday
</pre></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">92</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Необходимость переименований</h1><div class="body"><ul class="item-1 level-1"><li>Таблица<ul class="item-2 level-2"><li><var>Persons (Id, Name, MotherId, FatherId)</var></li></ul></li><li><span class="question">Получить сестёр и братьев</span><ul class="item-2 level-2"><li><var>(Name1, Name2)</var></li><li class="incremental"><div class="non-incremental"><pre class="prettyprint lang-sql">select p1.Name as Name1, p2.Name as Name2
    from Persons p1
        inner join Persons p2 
            on p1.MotherId = p2.MotherId
            and p1.FatherId = p2.FatherId
            and p1.Id &lt; p2.Id
</pre></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">93</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Сложный запрос</h1><div class="body"><ul class="item-1 level-1"><li>Таблица<ul class="item-2 level-2"><li><var>Persons (Id, Name, MotherId, FatherId)</var></li></ul></li><li><span class="question">Получить для каждого человека</span><ul class="item-2 level-2"><li><var>(Name, ParentName)</var></li><li class="incremental"><div class="non-incremental"><pre class="prettyprint lang-sql">select p.Name as Name, f.Name as ParentName
    from Persons p
        inner join Persons f on p.FatherId = f.Id
union
select p.Name as Name, m.Name as ParentName
    from Persons p
        inner join Persons m on p.MotherId = m.Id
</pre></div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">94</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Структура select</h1><div class="body"><ul class="item-1 level-1"><li><var>select</var> имеет вид<ul class="item-2 level-2"><li><span class="mathO"><span class="math">$ρ(π(σ(ε(R_1 ⊗ R_2 ⊗ ··· ⊗ R_n))))$</span></span></li><li><pre class="prettyprint lang-sql">select [distinct]
    … as …, … as … -- ε, π и ρ
from
    R1 A1
    ххх join R2 A2 on …   -- ⊗
    …
    ххх join Rn An on …   -- ⊗
where
    … -- σ
</pre></li><li><span class="mathO"><span class="math">$R_1, R_2, \dots, R_n$</span></span> – таблицы или <var>(</var>подзапросы<var>)</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">95</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Литература</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Реляционная алгебра</a></li><li><a href="#(7)" class="toc">Унарные операции</a></li><li><a href="#(26)" class="toc">Операции над множествами</a></li><li><a href="#(34)" class="toc">Соединения</a></li><li><a href="#(60)" class="toc">Деление</a></li><li><a href="#(67)" class="toc">Операции над данными</a></li><li><a href="#(78)" class="toc">Свойства реляционной алгебры</a></li><li><a href="#(83)" class="toc">Реляционная алгебра и SQL</a></li><li><a href="#(96)" class="toc current">Литература</a></li></ol></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">96</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Основная литература</h1><div class="body"><ul class="item-1 level-1"><li><em>Дейт К.</em> Введение в системы баз данных (глава 7)</li><li><em>Уидом Д., Ульман Д.</em> Основы реляционных баз данных (главы 4 и 5)</li><li><em>Gulutzan P.</em>, <em>Pelzer T.</em> SQL-99 complete, really<ul class="item-2 level-2"><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/28.html" target="_blank">Chapter 28 – Introduction to SQL-data operations</a></li><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/29.html" target="_blank">Chapter 29 – Simple Search Conditions</a></li><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/30.html" target="_blank">Chapter 30 – Searching with Joins</a></li><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/32.html" target="_blank">Chapter 32 – Searching with Set Operators</a></li><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/33.html" target="_blank">Chapter 33 – Searching with Groups</a></li><li><a href="https://crate.io/docs/sql-99/en/latest/chapters/34.html" target="_blank">Chapter 34 – Sorting Search Results</a></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">97</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дополнительная литература</h1><div class="body"><ul class="item-1 level-1"><li><em>Codd E.F.</em> Relational completeness of data base sublanguages</li></ul></div><div class="footer"><div class="test"><span class="author">Георгий Корнеев</span><span class="title">Базы данных / Реляционная алгебра</span><span class="number">98</span></div></div></div></div></div></body></html>