<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>Технологии Java / Jar</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="scripts/slidy.css" /><link rel="stylesheet" type="text/css" href="scripts/prettify.css" /><link rel="stylesheet" type="text/css" href="scripts/kgeorgiy-slides.css" /><script type="text/javascript" src="scripts/slidy.js" charset="utf-8" /><script type="text/javascript" src="scripts/kgeorgiy-slides.js" charset="utf-8" /><script type="text/javascript" src="scripts/prettify.js" /><script type="text/javascript" src="scripts/lang-sql.js" /><script type="text/javascript" src="scripts/lang-javaModule.js" /><script type="text/javascript" src="scripts/lang-scala.js" /><script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-37693764-1"]);_gaq.push(["_setDomainName","kgeorgiy.info"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8EQ66D87ZZ" /><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-8EQ66D87ZZ');
                </script></head><body onload="prettyPrint()"><div id="all">
<div class="slide cover"><div class="content"><div class="course">Технологии Java</div><hr /><div class="lecture"><div>Jar</div></div><div class="link"><a href="https://kgeorgiy.info/courses/java-advanced/">https://kgeorgiy.info/courses/java-advanced/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Georgiy Korneev</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide section"><div class="content"><h1>Jar-файлы</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc current">Jar-файлы</a></li><li><a href="#(11)" class="toc">Манифесты</a></li><li><a href="#(15)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">2</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Что такое Jar</h1><div class="body"><ul class="item-1 level-1"><li>Архивы Java-приложений</li><li>Инструмент для создания jar-файлов</li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">3</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Структура Jar-файла</h1><div class="body"><ul class="item-1 level-1"><li><var>.jar</var> – это <var>.zip</var><ul class="item-2 level-2"><li>Можно создать вручную</li></ul></li><li>Направление <var>/</var> фиксировано</li><li><var>/META-INF/</var> – дополнительная информация</li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">4</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Инструмент jar</h1><div class="body"><ul class="item-1 level-1"><li>Создание<ul class="item-2 level-2"><li><var>jar cf &lt;jar-файл&gt; &lt;файлы-для-упаковки&gt;</var></li></ul></li><li>Обновление<ul class="item-2 level-2"><li><var>jar uf &lt;jar-файл&gt; &lt;файлы-для-обновления&gt;</var></li></ul></li><li>Распаковка<ul class="item-2 level-2"><li><var>jar xf &lt;jar-файл&gt; &lt;файлы-для-распаковки&gt;?</var></li></ul></li><li>Запуск<ul class="item-2 level-2"><li>Требуется манифест</li><li><var>java -jar &lt;jar-файл&gt;</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">5</span></div></div></div></div>
<div class="slide"><div class="content"><h1>API для работы с Zip-файлами (1)</h1><div class="body"><ul class="item-1 level-1"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipOutputStream.html" target="_blank">ZipOutputStream</a></var> – запись<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipOutputStream.html#putNextEntry(java.util.zip.ZipEntry)" target="_blank">putNextEntry(zipEntry)</a></var> – следующий заголовок</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipOutputStream.html#write(byte[],int,int)" target="_blank">write(...)</a></var> – запись данных</li></ul></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipInputStream.html" target="_blank">ZipInputStream</a></var> – чтение<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipInputStream.html#getNextEntry()" target="_blank">getNextEntry()</a></var> – следующий заголовок</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipInputStream.html#read(byte[],int,int)" target="_blank">read(...)</a></var> – чтение данных</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">6</span></div></div></div></div>
<div class="slide"><div class="content"><h1>API для работы с Zip-файлами (2)</h1><div class="body"><ul class="item-1 level-1"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html" target="_blank">ZipEntry</a></var> – заголовок файла/каталога<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#%3Cinit%3E(java.lang.String)" target="_blank">ZipEntry(fileName)</a></var> – создание</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getName()" target="_blank">name</a></var> – имя</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#isDirectory()" target="_blank">directory</a></var> – тип</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getSize()" target="_blank">size</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getCompressedSize()" target="_blank">compressedSize</a></var> – размеры</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getMethod()" target="_blank">method</a></var> – метод упаковки<ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#STORED" target="_blank">STORED</a></var> – без сжатия</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#DEFLATED" target="_blank">DEFLATED</a></var> – c сжатием</li></ul></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getCrc()" target="_blank">crc</a></var> – проверочная сумма</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">7</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Директории</h1><div class="body"><ul class="item-1 level-1"><li>Обычно не хранятся</li><li>Если хранить явно<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getMethod()" target="_blank">method</a></var>: <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#STORED" target="_blank">STORED</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getSize()" target="_blank">size</a></var>: 0</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/ZipEntry.html#getCrc()" target="_blank">crc</a></var>: 0</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">8</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дополнительные возможности</h1><div class="body"><ul class="item-1 level-1"><li>Сжимающие потоки<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/GZIPOutputStream.html" target="_blank">GZIPOutputStream</a></var> – сжимающий поток</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/zip/GZIPInputStream.html" target="_blank">GZIPInputStream</a></var> – разжимающий поток</li></ul></li><li>Работа с манифестами<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/jar/JarOutputStream.html" target="_blank">JarOutputStream</a></var> – запись<ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/jar/JarOutputStream.html#%3Cinit%3E(java.io.OutputStream,java.util.jar.Manifest)" target="_blank">JarOutputStream(os, manifest)</a></var> – указание манифеста</li></ul></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/jar/JarInputStream.html" target="_blank">JarInputStream</a></var><ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/jar/Manifest.html" target="_blank">Manifest</a></var> <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/jar/JarInputStream.html#getManifest()" target="_blank">getManifest()</a></var> – получение манифеста</li></ul></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">9</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Загрузка ресурсов</h1><div class="body"><ul class="item-1 level-1"><li>По абсолютному пути<ul class="item-2 level-2"><li>Разделитель <var>/</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html" target="_blank">URL</a></var> <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html#getResource(java.lang.String)" target="_blank">getResource(name)</a></var> – получить адрес</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)" target="_blank">getResourceAsStream(name)</a></var> – прочитать</li></ul></li><li>По относительному пути<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URL.html" target="_blank">URL</a></var> <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)" target="_blank">getResource(name)</a></var> – получить адрес</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)" target="_blank">getResourceAsStream(name)</a></var> – прочитать</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">10</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Манифесты</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Jar-файлы</a></li><li><a href="#(11)" class="toc current">Манифесты</a></li><li><a href="#(15)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">11</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Манифест</h1><div class="body"><ul class="item-1 level-1"><li>Текстовый файл<ul class="item-2 level-2"><li><var>/META-INF/MANIFEST.MF</var></li></ul></li><li>Формат <pre class="prettyprint lang-java">секция
секция
имя-атрибута:_значение
_продолжение-значения
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">12</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Основные атрибуты</h1><div class="body"><ul class="item-1 level-1"><li><var>Manifest-Version</var><ul class="item-2 level-2"><li>Версия (1.0)</li></ul></li><li><var>Created-By</var><ul class="item-2 level-2"><li>Инструмент, создавший файл</li></ul></li><li><var>Class-Path</var><ul class="item-2 level-2"><li>Пути к зависимостям</li></ul></li><li><var>Main-Class</var><ul class="item-2 level-2"><li>Что запускать</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">13</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Подписанные jar-файлы</h1><div class="body"><ul class="item-1 level-1"><li>Инструмент <var>jarsigner</var></li><li>Хэши файлов в манифесте</li><li>Подпись манифеста</li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">14</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Заключение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(2)" class="toc">Jar-файлы</a></li><li><a href="#(11)" class="toc">Манифесты</a></li><li><a href="#(15)" class="toc current">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">15</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Ссылки</h1><div class="body"><ul class="item-1 level-1"><li>Java Archive (JAR) Files // <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/jar/index.html" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/<br />guides/jar/index.html</a></li><li>Tutorial: Packaging Programs in JAR Files // <a href="http://docs.oracle.com/javase/tutorial/deployment/jar/" target="_blank">http://docs.oracle.com/javase/tutorial/<br />deployment/jar/</a></li><li>Jar Tool // <a href="http://docs.oracle.com/javase/8/docs/technotes/tools/windows/jar.html" target="_blank">http://docs.oracle.com/javase/8/docs/<br />technotes/tools/windows/jar.html</a></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">16</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Вопросы</h1><div class="body"><div class="questions">???</div></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Jar</span><span class="number">17</span></div></div></div></div></div></body></html>