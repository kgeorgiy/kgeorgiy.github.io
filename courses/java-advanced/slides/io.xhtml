<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>Технологии Java / Структура курса</title><meta name="author" content="" /><link rel="stylesheet" type="text/css" media="screen, projection, print" href="scripts/slidy.css" /><link rel="stylesheet" type="text/css" href="scripts/prettify.css" /><link rel="stylesheet" type="text/css" href="scripts/kgeorgiy-slides.css" /><script type="text/javascript" src="scripts/slidy.js" charset="utf-8" /><script type="text/javascript" src="scripts/kgeorgiy-slides.js" charset="utf-8" /><script type="text/javascript" src="scripts/prettify.js" /><script type="text/javascript" src="scripts/lang-sql.js" /><script type="text/javascript" src="scripts/lang-javaModule.js" /><script type="text/javascript" src="scripts/lang-scala.js" /><script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-37693764-1"]);_gaq.push(["_setDomainName","kgeorgiy.info"]);_gaq.push(["_trackPageview"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8EQ66D87ZZ" /><script>
                  window.dataLayer = window.dataLayer || [];
                  function gtag(){dataLayer.push(arguments);}
                  gtag('js', new Date());

                  gtag('config', 'G-8EQ66D87ZZ');
                </script></head><body onload="prettyPrint()"><div id="all">
<div class="slide cover"><div class="content"><div class="course">Технологии Java</div><hr /><div class="lecture"><div>Структура курса</div></div><div class="link"><a href="https://kgeorgiy.info/courses/java-advanced/">https://kgeorgiy.info/courses/java-advanced/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Georgiy Korneev</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide"><div class="content"><h1>Структура</h1><div class="body"><ul class="item-1 level-1"><li>Лекции</li><li>Домашние задания</li><li>Практика</li><li>Зачет</li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">2</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Практика и баллы</h1><div class="body"><ul class="item-1 level-1"><li>Версии<ul class="item-2 level-2"><li>Простая <var>M3232−35</var></li><li>Сложная <var>M3236−39</var></li></ul></li><li>Модификации</li><li>Задержка<ul class="item-2 level-2"><li>Не более 3 недель</li></ul></li><li>Минусы<ul class="item-2 level-2"><li>Не горят</li></ul></li><li>Бонусы<ul class="item-2 level-2"><li>Первому сдавшему</li><li>Нашедшим ошибки/опечатки</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">3</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Содержание</h1><div class="body"><ul class="item-1 level-1"><li>База<ul class="item-2 level-2"><li>Ввод-вывод</li><li>Коллекции</li><li>Потоки</li><li>Рефлексия</li></ul></li><li>Инструментарий</li><li>Многопоточное программирование</li><li>Сетевые приложения</li><li>Разное<ul class="item-2 level-2"><li>Интернационализация и локализация</li><li>Сборка мусора</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">4</span></div></div></div></div>
<div class="slide cover"><div class="content"><div class="course">Технологии Java</div><hr /><div class="lecture"><div>Ввод-вывод</div></div><div class="link"><a href="https://kgeorgiy.info/courses/java-advanced/">https://kgeorgiy.info/courses/java-advanced/</a></div><div class="copyright"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.ru"><span class="copyright">Copyright © Georgiy Korneev</span><img src="scripts/by-nc-sa.png" alt="Attribution-NonCommercial-ShareAlike" /></a></div></div></div>
<div class="slide"><div class="content"><h1>Ввод-вывод в Java</h1><div class="body"><ul class="item-1 level-1"><li>Потоки ввода-вывода</li><li>Пакет <var>java.io</var><ul class="item-2 level-2"><li>Потоки ввода-вывода</li><li>Дескрипторы файлов</li></ul></li><li>Пакет <var>java.nio</var><ul class="item-2 level-2"><li>Асинхронный ввод-вывод</li></ul></li><li>Пакет <var>java.nio.file</var><ul class="item-2 level-2"><li>Дескрипторы путей</li><li>Новый (7+) API для управления файлами</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">6</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Потоки ввода-вывода</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">7</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Базовые классы</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class=" current">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">8</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Виды потоков </h1><div class="body"><div style="float: right; width: 50%"><img class="width" style="width: 100%" src="pics/StreamTypes.svg" /></div><ul class="item-1 level-1"><li>Направление<ul class="item-2 level-2"><li>Ввод</li><li>Вывод</li></ul></li><li>Содержимое<ul class="item-2 level-2"><li>Байтовые</li><li>Символьные <table><tr><td /><th>Байтовый </th><th>Символьный</th></tr><tr><th>Ввод </th><td><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" target="_blank">InputStream</a></var></td><td><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html" target="_blank">Reader</a></var></td></tr><tr><th>Вывод </th><td><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" target="_blank">OutputStream</a></var></td><td><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Writer.html" target="_blank">Writer</a></var></td></tr></table></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">9</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Исключительные ситуации</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" target="_blank">IOException</a></var><ul class="item-2 level-2"><li>Корень иерархии исключений ввода-вывода</li><li>Бросается всеми операциями ввода/вывода</li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/EOFException.html" target="_blank">EOFException</a></var><ul class="item-2 level-2"><li>Попытка чтения после конца потока</li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileNotFoundException.html" target="_blank">FileNotFoundException</a></var><ul class="item-2 level-2"><li>Файл не найден</li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/UnsupportedEncodingException.html" target="_blank">UnsupportedEncodingException</a></var><ul class="item-2 level-2"><li>Неизвестная кодировка</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">10</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Потоки ввода</h1><div class="body"><ul class="item-1 level-1"><li>Основные операции<ul class="item-2 level-2"><li><var>int <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#read()" target="_blank">read()</a></var></var> — чтение элемента</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#read(byte[])" target="_blank">read(T[] array)</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#read(byte[],int,int)" target="_blank">read(T[] array, offset, length)</a></var> — чтение элементов в массив</li><li><var>byte[] <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#readNBytes(int)" target="_blank">readNBytes(n)</a></var></var> — чтение массива</li></ul></li><li>Дополнительные операции<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#skip(long)" target="_blank">skip(n)</a></var> — пропуск до <var>n</var> элементов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#available()" target="_blank">available()</a></var>/<var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#ready()" target="_blank">ready()</a></var> – доступность чтения <em>без ожидания</em></li></ul></li><li>Закрытие потока<ul class="item-2 level-2"><li>Интерфейс <var><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html" target="_blank">Closeable</a></var> extends <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" target="_blank">AutoCloseable</a></var></var></li><li>Метод <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html#close()" target="_blank">close()</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">11</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пометки и возвраты</h1><div class="body"><ul class="item-1 level-1"><li>Проверка поддержки<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#markSupported()" target="_blank">markSupported()</a></var></li></ul></li><li>Операции<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#mark(int)" target="_blank">mark(limit)</a></var> — пометка текущей позиции</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#reset()" target="_blank">reset()</a></var> — возврат к помеченной позиции</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">12</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Потоки вывода</h1><div class="body"><ul class="item-1 level-1"><li>Основные операции<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#write(int)" target="_blank">write(v)</a></var> — запись элемента</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#write(byte[])" target="_blank">write(T[] array)</a></var> — запись массива элементов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#write(byte[],int,int)" target="_blank">write(T[] array, offset, length)</a></var> — запись фрагмента массива</li></ul></li><li>Запись буфера<ul class="item-2 level-2"><li>Интерфейс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Flushable.html" target="_blank">Flushable</a></var></li><li>Метод <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Flushable.html#flush()" target="_blank">flush()</a></var></li></ul></li><li>Закрытие потока</li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">13</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример: Блочное копирование </h1><div class="body"><pre class="prettyprint lang-java">void copy(InputStream is, OutputStream os)
    throws IOException
{
    byte[] b = new byte[1 &lt;&lt; 16];
    int c = 0;
    while ((c = is.read(b)) &gt;= 0) {
        os.write(b, 0, c);
    }
}
</pre></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">14</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Файловый ввод-вывод</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class=" current">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">15</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Классы файлового ввода-вывода</h1><div class="body"><ul class="item-1 level-1"><li>Классы <var>File*</var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileInputStream.html" target="_blank">FileInputStream</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileOutputStream.html" target="_blank">FileOutputStream</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileReader.html" target="_blank">FileReader</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileWriter.html" target="_blank">FileWriter</a></var></li></ul></li></ul><div class="img-width"><img class="width" style="width: 80%" src="pics/FileStreams.svg" /></div></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">16</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Создание файловых потоков</h1><div class="body"><ul class="item-1 level-1"><li>Для ввода/вывода<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileInputStream.html#%3Cinit%3E(java.lang.String)" target="_blank">File*(String file)</a></var> — по имени</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileInputStream.html#%3Cinit%3E(java.io.File)" target="_blank">File*(File file)</a></var> — по дескриптору</li></ul></li><li>Для дописывания<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileOutputStream.html#%3Cinit%3E(java.io.File,boolean)" target="_blank">File*(File file, boolean append)</a></var> — по дескриптору</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileOutputStream.html#%3Cinit%3E(java.lang.String,boolean)" target="_blank">File*(String file, boolean append)</a></var> — по имени</li></ul></li><li><span class="question">Кодировка символьных потоков?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Зависит от системы и версии Java<ul class="item-3 level-3"><li class="incremental"><div class="non-incremental">18+: <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()" target="_blank">Charset.defaultCharset()</a></var> по умолчанию UTF-8</div></li></ul></div></li><li class="incremental"><div class="non-incremental">Нельзя использовать значение по умолчанию</div></li><li class="incremental"><div class="non-incremental">Java 11+: Можно указать <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/Charset.html" target="_blank">Charset</a></var> явно</div></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">17</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример: преобразование регистра</h1><div class="body"><ul class="item-1 level-1"><li>Файл <var>input.txt</var> копируется в <var>output.txt</var> с изменением регистра<ul class="item-2 level-2"><li><pre class="prettyprint lang-java">try (
    Reader reader = new FileReader("input.txt",
        StandardCharsets.UTF_8);
    Writer writer = new FileWriter("output.txt",
        StandardCharsets.UTF_8);
) {
    int c = 0;
    while ((c = reader.read()) &gt;= 0) {
        writer.write(Character.toUpperCase((char) c));
    }
}
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">18</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Преобразование потоков</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class=" current">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">19</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Байтовый ⇒ символьный</h1><div class="body"><ul class="item-1 level-1"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" target="_blank">InputStream</a></var> + кодировка ⇒ <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html" target="_blank">Reader</a></var></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStreamReader.html" target="_blank">InputStreamReader</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream,java.lang.String)" target="_blank">InputStreamReader(stream, encoding?)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream,java.nio.charset.Charset)" target="_blank">InputStreamReader(stream, charset)</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">20</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Символьный ⇒ байтовый</h1><div class="body"><ul class="item-1 level-1"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" target="_blank">OutputStream</a></var> + кодировка ⇒ <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Writer.html" target="_blank">Writer</a></var></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStreamWriter.html" target="_blank">OutputStreamWriter</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStreamWriter.html#%3Cinit%3E(java.io.OutputStream,java.lang.String)" target="_blank">OutputStreamWriter(stream, encoding?)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStreamWriter.html#%3Cinit%3E(java.io.OutputStream,java.nio.charset.Charset)" target="_blank">OutputStreamWriter(stream, charset)</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">21</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример: перекодирование файла</h1><div class="body"><ul class="item-1 level-1"><li>Файл <var>input.txt</var> копируется в <var>output.txt</var> с изменением кодировки с <var>Cp1251</var> на <var>Cp866</var><ul class="item-2 level-2"><li><pre class="prettyprint lang-java">try (
    Reader reader = new InputStreamReader(
        new FileInputStream("input.txt"), "Cp1251");
    Writer writer = new OutputStreamWriter(
        new FileOutputStream("output.txt"), "Cp866");
) {
    int c = 0;
    while ((c = reader.read()) &gt;= 0) {
        writer.write(c);
    }
}
</pre></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">22</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Фильтрующие потоки</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class=" current">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">23</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Фильтрующие потоки</h1><div class="body"><ul class="item-1 level-1"><li>Направляют все вызовы вложенному потоку</li><li>Классы <var>Filter*</var><img class="bottom" src="pics/FilterStream.svg" /></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">24</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пример: «шифрующий» поток</h1><div class="body"><ul class="item-2 level-2"><li><pre class="prettyprint lang-java">public class EncodingOutputStream
        extends FilterOutputStream {
    private final int key;
    public EncodingOutputStream(
            OutputStream os, int key) {
        super(os);
        this.key = key;
    }
    public void write(int b) throws IOException {
        super.write(b ^ key);
    }
}
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">25</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Буферизующие потоки</h1><div class="body"><ul class="item-1 level-1"><li>Содержат буфер, который считывают / записывают целиком</li><li>Классы <var>Buffered*</var><img class="bottom" src="pics/BufferedStream.svg" /></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">26</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Чтение с возвратом</h1><div class="body"><ul class="item-1 level-1"><li>Позволяют “возвращать” в поток элементы, которые затем будут “прочитаны”</li><li>Классы <var>Pushback*</var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PushbackInputStream.html#unread(int)" target="_blank">unread(int)</a></var> – затолкнуть один элемент</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PushbackInputStream.html#unread(byte[])" target="_blank">unread(T[] array)</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PushbackInputStream.html#unread(byte[],int,int)" target="_blank">unread(T[] array, offset, length)</a></var> – затолкнуть несколько элементов</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">27</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Дополнительные возможности потоков</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class=" current">Дополнительные возможности потоков</a></li><li><a href="#(35)" class="">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">28</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Эмуляция чтения</h1><div class="body"><ul class="item-1 level-1"><li>Чтение из буфера в памяти</li><li>Классы<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/ByteArrayInputStream.html" target="_blank">ByteArrayInputStream</a></var> – массива байт</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/CharArrayReader.html" target="_blank">CharArrayReader</a></var> – массива символов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/StringReader.html" target="_blank">StringReader</a></var> – чтение из строки</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">29</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Эмуляция записи</h1><div class="body"><ul class="item-1 level-1"><li>Запись в буфер в памяти</li><li>Классы<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/ByteArrayOutputStream.html" target="_blank">ByteArrayOutputStream</a></var> – массив байт<ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/ByteArrayOutputStream.html#toByteArray()" target="_blank">toByteArray()</a></var></li></ul></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/CharArrayWriter.html" target="_blank">CharArrayWriter</a></var> – массив символов<ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/CharArrayWriter.html#toString()" target="_blank">toString()</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/CharArrayWriter.html#toCharArray()" target="_blank">toCharArray()</a></var></li></ul></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/StringWriter.html" target="_blank">StringWriter</a></var> – в <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuffer.html" target="_blank">StringBuffer</a></var><ul class="item-3 level-3"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/StringWriter.html#toString()" target="_blank">toString()</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/StringWriter.html#getBuffer()" target="_blank">getBuffer()</a></var></li></ul></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">30</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пустые потоки</h1><div class="body"><ul class="item-1 level-1"><li>Поток ввода нулевой длины<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#nullInputStream()" target="_blank">InputStream.nullInputStream()</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html#nullReader()" target="_blank">Reader.nullReader()</a></var></li></ul></li><li>Поток вывода, игнорирующий запись<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html#nullOutputStream()" target="_blank">OutputStream.nullOutputStream()</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Writer.html#nullWriter()" target="_blank">Writer.nullWriter()</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">31</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Конкатенация потоков</h1><div class="body"><ul class="item-1 level-1"><li>Несколько байтовых потоков можно конкатенировать<ul class="item-2 level-2"><li>Читаем первый до конца</li><li>Читаем второй до конца</li><li>…</li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/SequenceInputStream.html" target="_blank">SequenceInputStream</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/SequenceInputStream.html#%3Cinit%3E(java.io.InputStream,java.io.InputStream)" target="_blank">SequenceInputStream(s1, s2)</a></var> – конкатенация двух потоков</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/SequenceInputStream.html#%3Cinit%3E(java.util.Enumeration)" target="_blank">SequenceInputStream(enumeration)</a></var> – конкатенация нескольких потоков</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">32</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Вывод с подавлением ошибок</h1><div class="body"><ul class="item-1 level-1"><li>Вывод осуществляется построчно, с подавлением ошибок</li><li>Классы <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html" target="_blank">PrintWriter</a></var> и <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html" target="_blank">PrintStream</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#print(boolean)" target="_blank">print(…)</a></var> – запись без перевода строки</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#println(boolean)" target="_blank">println(…)</a></var> – запись с переводом строки</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#format(java.lang.String,java.lang.Object...)" target="_blank">format(format, args…)</a></var> – форматированная запись</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#checkError()" target="_blank">checkError()</a></var> – проверить, была ли ошибка</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#clearError()" target="_blank">clearError()</a></var> – сбросить флаг ошибки</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">33</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Ввод с подсчетом строк</h1><div class="body"><ul class="item-1 level-1"><li>Ввод осуществляется построчно, с подсчетом количества строк</li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/LineNumberReader.html" target="_blank">LineNumberReader</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/LineNumberReader.html#getLineNumber()" target="_blank">getLineNumber()</a></var> – номер текущей строки</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/BufferedReader.html#readLine()" target="_blank">readLine()</a></var> – следующая строка</li><li><var><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/stream/Stream.html" target="_blank">Stream</a></var>&lt;<var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" target="_blank">String</a></var>&gt; <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/BufferedReader.html#lines()" target="_blank">lines()</a></var></var> – все строки</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">34</span></div></div></div></div>
<div class="slide subsection"><div class="content"><h1>Консольный ввод-вывод</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc current">Потоки ввода-вывода</a><ol class="level-2 toc-2"><li><a href="#(8)" class="">Базовые классы</a></li><li><a href="#(15)" class="">Файловый ввод-вывод</a></li><li><a href="#(19)" class="">Преобразование потоков</a></li><li><a href="#(23)" class="">Фильтрующие потоки</a></li><li><a href="#(28)" class="">Дополнительные возможности потоков</a></li><li><a href="#(35)" class=" current">Консольный ввод-вывод</a></li></ol></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">35</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Консольный ввод-вывод</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html" target="_blank">System</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#out" target="_blank">system.out</a></var> – <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html" target="_blank">PrintStream</a></var> для <var>stdout</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#err" target="_blank">system.err</a></var> – <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html" target="_blank">PrintStream</a></var> для <var>stderr</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#in" target="_blank">system.in</a></var> – <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" target="_blank">InputStream</a></var> для <var>stdin</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#setOut(java.io.PrintStream)" target="_blank">setOut(stream)</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#setErr(java.io.PrintStream)" target="_blank">setErr(stream)</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#setIn(java.io.InputStream)" target="_blank">setIn(stream)</a></var> – установка консольных потоков</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#console()" target="_blank">console()</a></var> – символьная консоль</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">36</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Символьная консоль</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html" target="_blank">Console</a></var><ul class="item-2 level-2"><li>Не работает с перенаправлением ввода-вывода</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#format(java.lang.String,java.lang.Object...)" target="_blank">format(format, args)</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#printf(java.lang.String,java.lang.Object...)" target="_blank">printf(format, args)</a></var> – форматированный вывод</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#reader()" target="_blank">reader()</a></var> – <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Reader.html" target="_blank">Reader</a></var> для <var>stdin</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#writer()" target="_blank">writer()</a></var> – <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Writer.html" target="_blank">Writer</a></var> для <var>stdout</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#readLine()" target="_blank">readLine()</a></var> – чтение строки текста</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Console.html#readPassword(java.lang.String,java.lang.Object...)" target="_blank">readPassword(format, args)</a></var> – чтение пароля</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">37</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Ввод-вывод примитивных типов</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc">Потоки ввода-вывода</a></li><li><a href="#(38)" class="toc current">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">38</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Порядок байт</h1><div class="body"><ul class="item-1 level-1"><li><span class="question">Какие байты будут выведены при записи числа <var>0x12345678</var>?</span><ul class="item-2 level-2"><li class="incremental"><div class="non-incremental">Зависит от системы</div></li></ul></li><li class="incremental"><div class="non-incremental">Возможные варианты:<ul class="item-2 level-2"><li class="incremental"><div class="non-incremental"><var>78</var>, <var>56</var>, <var>34</var>, <var>12</var> – little-endian (x86)</div></li><li class="incremental"><div class="non-incremental"><var>12</var>, <var>34</var>, <var>56</var>, <var>78</var> – big-endian (network byte order)</div></li><li class="incremental"><div class="non-incremental"><var>34</var>, <var>12</var>, <var>78</var>, <var>56</var> – mixed-endian (PDP-11)</div></li></ul></div></li><li class="incremental"><div class="non-incremental">Требуется зафиксировать порядок<ul class="item-2 level-2"><li>big-endian</li></ul></div></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">39</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Запись</h1><div class="body"><ul class="item-1 level-1"><li>Интерфейс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataOutput.html" target="_blank">DataOutput</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataOutput.html#writeInt(int)" target="_blank">writeT(T)</a></var> – запись примитивных типов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataOutput.html#writeUTF(java.lang.String)" target="_blank">writeUTF(string)</a></var> – запись строки в кодировке <var>UTF-8</var></li></ul></li><li>Реализация<ul class="item-2 level-2"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataOutputStream.html" target="_blank">DataOutputStream</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">40</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Чтение</h1><div class="body"><ul class="item-1 level-1"><li>Интерфейс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html" target="_blank">DataInput</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html#readInt()" target="_blank">T readT()</a></var> – чтение примитивных типов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html#readUTF()" target="_blank">readUTF()</a></var> – чтение строки в кодировке <var>UTF-8</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html#readUnsignedByte()" target="_blank">readUnsignedByte()</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html#readUnsignedShort()" target="_blank">readUnsignedShort()</a></var> – чтение беззнаковых целых</li></ul></li><li>Реализация<ul class="item-2 level-2"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInputStream.html" target="_blank">DataInputStream</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">41</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Файлы c произвольным доступом</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html" target="_blank">RandomAccessFile</a></var><ul class="item-2 level-2"><li>Реализует <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataInput.html" target="_blank">DataInput</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/DataOutput.html" target="_blank">DataOutput</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#%3Cinit%3E(java.lang.String,java.lang.String)" target="_blank">RandomAccessFile(file, mode)</a></var> – открыть файл в заданном режиме <table><tr><th>Строка </th><th>Режим</th></tr><tr><td><var>r</var></td><td>Чтение</td></tr><tr><td><var>rw</var></td><td>Чтение и запись</td></tr><tr><td><var>rwd</var></td><td>Синхронные чтение и запись</td></tr><tr><td><var>rws</var></td><td>Синхронные чтение и запись (+метаданные)</td></tr></table></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">42</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Навигация по файлу</h1><div class="body"><ul class="item-1 level-1"><li>Методы<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#length()" target="_blank">length()</a></var> – получить размер файла</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#setLength(long)" target="_blank">setLength(long)</a></var> – установить размер файла</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#getFilePointer()" target="_blank">getFilePointer()</a></var> – получить положение указателя</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#seek(long)" target="_blank">seek(long)</a></var> – установить положение указателя</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html#skipBytes(int)" target="_blank">skipBytes(int)</a></var> – пропустить байты</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">43</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Дескрипторы файлов</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc">Потоки ввода-вывода</a></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc current">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">44</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Дескрипторы файлов</h1><div class="body"><ul class="item-1 level-1"><li>Позволяют осуществлять манипуляции с файлами</li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html" target="_blank">File</a></var></li><li>Создание по пути<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#%3Cinit%3E(java.lang.String)" target="_blank">File(String pathname)</a></var></li></ul></li><li>Создание по имени и директории<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#%3Cinit%3E(java.io.File,java.lang.String)" target="_blank">File(File dir, String name)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#%3Cinit%3E(java.lang.String,java.lang.String)" target="_blank">File(String dir, String name)</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">45</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Разделители</h1><div class="body"><ul class="item-1 level-1"><li>Зависят от платформы</li><li>Разделитель директорий<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#separator" target="_blank">File.separator</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#separatorChar" target="_blank">File.separatorChar</a></var></li></ul></li><li>Разделитель путей<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#pathSeparator" target="_blank">File.pathSeparator</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#pathSeparatorChar" target="_blank">File.pathSeparatorChar</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">46</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с дескрипторами</h1><div class="body"><ul class="item-1 level-1"><li>Имена<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getName()" target="_blank">getName()</a></var> – имя файла</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getPath()" target="_blank">getPath()</a></var> – имя и путь к файлу</li></ul></li><li>Относительные пути<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)" target="_blank">System.getProperty("user.dir")</a></var> – текущая директория</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getAbsolutePath()" target="_blank">getAbsolutePath()</a></var> – абсолютный путь</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getAbsoluteFile()" target="_blank">getAbsoluteFile()</a></var> – абсолютный дескриптор</li></ul></li><li>Определение родителя<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getParent()" target="_blank">getParent()</a></var> – как строки</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getParentFile()" target="_blank">getParentFile()</a></var> – как дескриптора</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">47</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с файлами (1)</h1><div class="body"><ul class="item-1 level-1"><li>Проверка типа<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#isFile()" target="_blank">isFile()</a></var> – является ли файлом</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#isDirectory()" target="_blank">isDirectory()</a></var> – является ли директорией</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#isHidden()" target="_blank">isHidden()</a></var> – является ли скрытым</li></ul></li><li>Получение информации о файле<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#exists()" target="_blank">exists()</a></var> – проверка существования</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#length()" target="_blank">length()</a></var> – длина файла</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#lastModified()" target="_blank">lastModified()</a></var> – время последней модификации</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">48</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с файлами (2)</h1><div class="body"><ul class="item-1 level-1"><li>Создание<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#mkdir()" target="_blank">mkdir()</a></var> – создать одну директорию</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#mkdirs()" target="_blank">mkdirs()</a></var> – создать все директории</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#createNewFile()" target="_blank">createNewFile()</a></var> – создать пустой файл</li></ul></li><li>Удаление<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#delete()" target="_blank">delete()</a></var> – удалить немедленно</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#deleteOnExit()" target="_blank">deleteOnExit()</a></var> – удалить после завершения</li></ul></li><li>Переименование / перенос<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#renameTo(java.io.File)" target="_blank">renameTo(file)</a></var> – переименовать / перенести в заданное место</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">49</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Листинг директории</h1><div class="body"><ul class="item-1 level-1"><li>Листинг всех файлов<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#list()" target="_blank">list()</a></var> – имена файлов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#listFiles()" target="_blank">listFiles()</a></var> – дескрипторы файлов</li></ul></li><li>Листинг по критерию<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#list(java.io.FilenameFilter)" target="_blank">list(filenameFilter)</a></var> – имена файлов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#listFiles(java.io.FileFilter)" target="_blank">listFiles(fileFilter)</a></var> – дескрипторы файлов</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">50</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Права доступа к файлам</h1><div class="body"><ul class="item-1 level-1"><li>Проверка<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#canRead()" target="_blank">canRead()</a></var> – чтение</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#canWrite()" target="_blank">canWrite()</a></var> – запись</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#canExecute()" target="_blank">canExecute()</a></var> – исполнение</li></ul></li><li>Установка<ul class="item-2 level-2"><li><var>set</var>{<var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#setReadable(boolean)" target="_blank">Readable</a></var>/<var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#setWritable(boolean)" target="_blank">Writable</a></var>/<var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#setExecutable(boolean)" target="_blank">Executable</a></var>}<var>(value, ownerOnly?)</var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">51</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Информация о файловых системах</h1><div class="body"><ul class="item-1 level-1"><li>Список<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#listRoots()" target="_blank">File.listRoots()</a></var> – список ФС</li></ul></li><li>Статистика<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getFreeSpace()" target="_blank">getFreeSpace()</a></var> – свободное место</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getTotalSpace()" target="_blank">getTotalSpace()</a></var> – размер</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#getUsableSpace()" target="_blank">getUsableSpace()</a></var> – доступное место</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">52</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Ввод-вывод в java.nio.file</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc">Потоки ввода-вывода</a></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc current">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">53</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Новые возможности</h1><div class="body"><ul class="item-1 level-1"><li>Пакет <var>java.nio.file</var><ul class="item-2 level-2"><li>Управление файлами</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" target="_blank">Path</a></var> – описание путей</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html" target="_blank">Files</a></var> – действия над файлами</li></ul></li><li>Пакет <var>java.nio.file.attribute</var><ul class="item-2 level-2"><li>Управление доступом</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">54</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Пути</h1><div class="body"><ul class="item-1 level-1"><li>Интерфейс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" target="_blank">Path</a></var><ul class="item-2 level-2"><li>Синтаксическое описание пути</li></ul></li><li>Создание экземпляров<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)" target="_blank">Path.of(string, string...)</a></var>, <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Paths.html#get(java.lang.String,java.lang.String...)" target="_blank">Paths.get(string, string...)</a></var> – <br /> из фрагментов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html#toPath()" target="_blank">file.toPath()</a></var> – из файла</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystem.html#getPath(java.lang.String,java.lang.String...)" target="_blank">fileSystem.getPath(string, strings...)</a></var> – с ограничениями для файловой системы</li></ul></li><li>Преобразования<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#normalize()" target="_blank">normalize()</a></var> – удаление лишних <var>.</var> и <var>..</var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#toAbsolutePath()" target="_blank">toAbsolutePath()</a></var> – абсолютный путь</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#resolve(java.nio.file.Path)" target="_blank">resolve(path)</a></var> / <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#resolveSibling(java.nio.file.Path)" target="_blank">resolveSibling(path)</a></var> – от базового</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#relativize(java.nio.file.Path)" target="_blank">relativize(path)</a></var> – получение относительного пути</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">55</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Информация о путях</h1><div class="body"><ul class="item-1 level-1"><li>Получение частичных путей<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#getFileName()" target="_blank">getFileName()</a></var> – последний фрагмент</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#getName(int)" target="_blank">getName(index)</a></var> – указанный фрагмент</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#getNameCount()" target="_blank">getNameCount()</a></var> – число фрагментов</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#subpath(int,int)" target="_blank">subpath(from, to)</a></var> – часть пути</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#getParent()" target="_blank">getParent()</a></var> – все, кроме последнего фрагмента</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#getRoot()" target="_blank">getRoot()</a></var> – корень раздела</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#iterator()" target="_blank">Iterator&lt;Path&gt; iterator()</a></var> – фрагменты</li></ul></li><li>Сравнение<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#startsWith(java.nio.file.Path)" target="_blank">startsWith(path)</a></var> – с началом</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#endsWith(java.nio.file.Path)" target="_blank">endsWith(path)</a></var> – с концом</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">56</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с файлами (1)</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html" target="_blank">Files</a></var></li><li>Проверка существования<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#exists(java.nio.file.Path,java.nio.file.LinkOption...)" target="_blank">Files.exists(path, options)</a></var> – точно существует</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#notExists(java.nio.file.Path,java.nio.file.LinkOption...)" target="_blank">Files.notExists(path, options)</a></var> – точно не существует</li></ul></li><li>Проверка доступа<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isReadable(java.nio.file.Path)" target="_blank">Files.isReadable(path)</a></var> – для чтения</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isWritable(java.nio.file.Path)" target="_blank">Files.isWritable(path)</a></var> – для записи</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isExecutable(java.nio.file.Path)" target="_blank">Files.isExecutable(path)</a></var> – для исполнения</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isHidden(java.nio.file.Path)" target="_blank">Files.isHidden(path)</a></var> – спрятанный</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">57</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с файлами (2)</h1><div class="body"><ul class="item-1 level-1"><li>Определение типа<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isDirectory(java.nio.file.Path,java.nio.file.LinkOption...)" target="_blank">Files.isDirectory(path, options)</a></var> – каталог</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isRegularFile(java.nio.file.Path,java.nio.file.LinkOption...)" target="_blank">Files.isRegularFile(path, options)</a></var> – обычный файл</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isSymbolicLink(java.nio.file.Path)" target="_blank">Files.isSymbolicLink(path)</a></var> – симлинк</li></ul></li><li>Сравнение<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#isSameFile(java.nio.file.Path,java.nio.file.Path)" target="_blank">Files.isSameFile(path, path)</a></var> – на физ. равенство</li></ul></li><li>Другая информация<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#size(java.nio.file.Path)" target="_blank">Files.size(path)</a></var> – размер</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">58</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с файлами (3)</h1><div class="body"><ul class="item-1 level-1"><li>Удаление<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)" target="_blank">Files.delete(path)</a></var> – существующего</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)" target="_blank">Files.deleteIfExists(path)</a></var> – возможно существующего</li></ul></li><li>Копирование и перемещение<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)" target="_blank">Files.copy(from, to, options)</a></var> – копирование</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)" target="_blank">Files.move(from, to, options)</a></var> – перемещение</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">59</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Чтение файлов</h1><div class="body"><ul class="item-1 level-1"><li>Бинарных<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#readAllBytes(java.nio.file.Path)" target="_blank">Files.readAllBytes(path)</a></var> – целиком</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newInputStream(java.nio.file.Path,java.nio.file.OpenOption...)" target="_blank">Files.newInputStream(path, options)</a></var> – потоком</li></ul></li><li>Символьных<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)" target="_blank">Files.readString(path, charset?)</a></var> – целиком в строку</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)" target="_blank">Files.readAllLines(path, charset?)</a></var> – списком строк</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path,java.nio.charset.Charset)" target="_blank">Files.newBufferedReader(path, charset?)</a></var> – потоком</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)" target="_blank">Files.lines(path, charset?)</a></var> – потоком строк</li></ul></li><li>Кодировки<ul class="item-2 level-2"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/Charset.html" target="_blank">Charset</a></var></li><li>Метод <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/Charset.html#forName(java.lang.String)" target="_blank">Charset.forName(name)</a></var></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/charset/StandardCharsets.html" target="_blank">StandardCharsets</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">60</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Запись файлов</h1><div class="body"><ul class="item-1 level-1"><li>Бинарных<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,byte[],java.nio.file.OpenOption...)" target="_blank">Files.write(path, byte[], options)</a></var> – целиком</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newOutputStream(java.nio.file.Path,java.nio.file.OpenOption...)" target="_blank">Files.newOutputStream(path, options)</a></var> – потоком</li></ul></li><li>Символьных<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#write(java.nio.file.Path,java.lang.Iterable,java.nio.charset.Charset,java.nio.file.OpenOption...)" target="_blank">Files.write(path, lines, charset?, options)</a></var> – целиком</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)" target="_blank">Files.writeString(path, string, charset?, options)</a></var> – целиком</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newBufferedWriter(java.nio.file.Path,java.nio.charset.Charset,java.nio.file.OpenOption...)" target="_blank">Files.newBufferedWriter(path, charset?, options)</a></var> – потоком</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">61</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Операции с каталогами</h1><div class="body"><ul class="item-1 level-1"><li>Создание<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#createDirectory(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)" target="_blank">Files.createDirectory(path, attrs)</a></var> – одного</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)" target="_blank">Files.createDirectories(path, attrs)</a></var> – нескольких</li></ul></li><li>Листинг<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path)" target="_blank">Files.newDirectoryStream(path)</a></var> – все содержимое</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path,java.lang.String)" target="_blank">Files.newDirectoryStream(path, glob)</a></var> – по маске</li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path,java.nio.file.DirectoryStream.Filter)" target="_blank">Files.newDirectoryStream(path, filter)</a></var> – рукописный фильтр</li></ul></li><li>Получение корневых директорий<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystem.html#getRootDirectories()" target="_blank">fileSystem.getRootDirectories()</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">62</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Обход дерева файлов</h1><div class="body"><ul class="item-1 level-1"><li>Интерфейс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileVisitor.html" target="_blank">FileVisitor&lt;T&gt; </a></var><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#walkFileTree(java.nio.file.Path,java.nio.file.FileVisitor)" target="_blank">Files.walkFileTree(start, visitor)</a></var> – обход дерева</li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/SimpleFileVisitor.html" target="_blank">SimpleFileVisitor&lt;T&gt;</a></var></li><li>Методы<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/SimpleFileVisitor.html#preVisitDirectory(T,java.nio.file.attribute.BasicFileAttributes)" target="_blank">preVisitDirectory(dir, attrs)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/SimpleFileVisitor.html#postVisitDirectory(T,java.io.IOException)" target="_blank">postVisitDirectory(dir, exception)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/SimpleFileVisitor.html#visitFile(T,java.nio.file.attribute.BasicFileAttributes)" target="_blank">visitFile(file, attrs)</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/SimpleFileVisitor.html#visitFileFailed(T,java.io.IOException)" target="_blank">visitFileFailed(file, exception)</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">63</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Другие возможности</h1><div class="body"><ul class="item-1 level-1"><li>Файловые системы<ul class="item-2 level-2"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystem.html" target="_blank">FileSystem</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystems.html#getDefault()" target="_blank">FileSystems.getDefault()</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystems.html#getFileSystem(java.net.URI)" target="_blank">FileSystems.getFileSystem(uri)</a></var></li></ul></li><li>Дисковые разделы<ul class="item-2 level-2"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileStore.html" target="_blank">FileStore</a></var></li><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystem.html#getFileStores()" target="_blank">fileSystem.getFileStores()</a></var></li></ul></li><li>Работа с символьными ссылками</li><li>Подписка на уведомления<ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html#register(java.nio.file.WatchService,java.nio.file.WatchEvent.Kind...)" target="_blank">path.register(watchService, kind...)</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">64</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Ввод-вывод и исключения</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc">Потоки ввода-вывода</a></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc current">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">65</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Автоматическое закрытие</h1><div class="body"><ul class="item-1 level-1"><li><var>Try-with-resources</var><pre class="prettyprint lang-java">try (Reader reader = new FileReader("in.txt")) {
    // Операции с файлом
}
// Ресурс автоматически закрывается
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">66</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Обычная обработка исключений</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java">Reader reader = new FileReader("input.txt");
try {
    // Операции с файлом
} finally {
    reader.close();
}
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">67</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Альтернативный метод</h1><div class="body"><ul class="item-1 level-1"><li><span class="warn">Не рекомендуется <pre class="prettyprint lang-java">Reader reader = null;
try {
    reader = new FileReader("input.txt");
    …
} finally {
    if (reader != null) {
        reader.close();
    }
}
</pre></span></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">68</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Гарантированное закрытие</h1><div class="body"><ul class="item-1 level-1"><li>С возвратом исходной ошибки <pre class="prettyprint lang-java">Reader reader = new FileReader("input.txt");
try {
     // Операции с файлом
    reader.close();
} catch (IOException e) {
    try {
        reader.close();
    } catch (IOException ignored) {}
    throw e;
}
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">69</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Случай нескольких потоков (1)</h1><div class="body"><ul class="item-1 level-1"><li><pre class="prettyprint lang-java">Reader reader = new FileReader("input.txt");
try {
    Writer writer = new FileWriter("output.txt");
    try {
        // Операции ввода-вывода
    } finally {
        writer.close();
    }
} finally {
    reader.close();
}
</pre></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">70</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Случай нескольких потоков (2) </h1><div class="body"><pre class="prettyprint lang-java">try (
    Reader reader = new FileReader("input.txt");
    Writer writer = new FileWriter("output.txt");
) {
    // Операции ввода-вывода
}
</pre></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">71</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Подавление исключений</h1><div class="body"><ul class="item-1 level-1"><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html" target="_blank">PrintWriter</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#checkError()" target="_blank">checkError()</a></var></li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html" target="_blank">PrintStream</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintStream.html#checkError()" target="_blank">checkError()</a></var></li></ul></li><li>Класс <var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html" target="_blank">Scanner</a></var><ul class="item-2 level-2"><li><var><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#ioException()" target="_blank">ioException()</a></var></li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">72</span></div></div></div></div>
<div class="slide section"><div class="content"><h1>Заключение</h1><h2>Содержание</h2><div class="body"><ol class="level-1 toc-1"><li><a href="#(7)" class="toc">Потоки ввода-вывода</a></li><li><a href="#(38)" class="toc">Ввод-вывод примитивных типов</a></li><li><a href="#(44)" class="toc">Дескрипторы файлов</a></li><li><a href="#(53)" class="toc">Ввод-вывод в java.nio.file</a></li><li><a href="#(65)" class="toc">Ввод-вывод и исключения</a></li><li><a href="#(73)" class="toc current">Заключение</a></li></ol></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">73</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Осталось за кадром</h1><div class="body"><ul class="item-1 level-1"><li>Сериализация<ul class="item-2 level-2"><li>Сохранение состояния объекта в бинарной форме</li><li>Будет позднее</li></ul></li><li>NIO<ul class="item-2 level-2"><li>Асинхронный ввод-вывод</li><li>Будет позднее</li></ul></li><li>Security (видимо, удалят)<ul class="item-2 level-2"><li>Управление доступом в JVM</li><li>Планируют убрать</li></ul></li><li>Piped Streams<ul class="item-2 level-2"><li>Для многопоточных программ</li></ul></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">74</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Ссылки</h1><div class="body"><ul class="item-1 level-1"><li>Java Tutorial. <a href="http://docs.oracle.com/javase/tutorial/essential/io/" target="_blank">Basic I/O</a></li><li>Java I/O, NIO, and NIO.2 // <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/io/" target="_blank">http://docs.oracle.com/javase/8/docs/technotes/<br />guides/io/</a></li><li>JEP 400: <a href="https://openjdk.org/jeps/400" target="_blank">UTF-8 by Default</a></li></ul></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">75</span></div></div></div></div>
<div class="slide"><div class="content"><h1>Вопросы</h1><div class="body"><div class="questions">???</div></div><div class="footer"><div class="test"><span class="author">Georgiy Korneev</span><span class="title">Технологии Java / Структура курса</span><span class="number">76</span></div></div></div></div></div></body></html>